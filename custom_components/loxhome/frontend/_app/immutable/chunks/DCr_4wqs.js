import{c as I,a as B,d as m,p as U,b as P,f as R,h as p,g as Y,m as x,s as y,i as F,j as C,E as H,k as $,H as z,l as G,n as j,o as k,t as O,v as D,w as q,x as J,y as K,z as g,A as Q,B as N,C as Z,D as V,F as W,P as X,G as ee,I as se,J as te,K as re,L as ae,u as ne,M as ie,N as fe,O as ue,Q as ce,R as oe,T as de,S as le,U as _e}from"./9vQHtRAg.js";class he{anchor;#s=new Map;#t=new Map;#e=new Map;#r=new Set;#a=!0;constructor(s,r=!0){this.anchor=s,this.#a=r}#n=()=>{var s=I;if(this.#s.has(s)){var r=this.#s.get(s),e=this.#t.get(r);if(e)B(e),this.#r.delete(r);else{var n=this.#e.get(r);n&&(this.#t.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),e=n.effect)}for(const[a,f]of this.#s){if(this.#s.delete(a),a===s)break;const i=this.#e.get(f);i&&(m(i.effect),this.#e.delete(f))}for(const[a,f]of this.#t){if(a===r||this.#r.has(a))continue;const i=()=>{if(Array.from(this.#s.values()).includes(a)){var o=document.createDocumentFragment();x(f,o),o.append(P()),this.#e.set(a,{effect:f,fragment:o})}else m(f);this.#r.delete(a),this.#t.delete(a)};this.#a||!e?(this.#r.add(a),U(f,i,!1)):i()}}};#i=s=>{this.#s.delete(s);const r=Array.from(this.#s.values());for(const[e,n]of this.#e)r.includes(e)||(m(n.effect),this.#e.delete(e))};ensure(s,r){var e=I,n=y();if(r&&!this.#t.has(s)&&!this.#e.has(s))if(n){var a=document.createDocumentFragment(),f=P();a.append(f),this.#e.set(s,{effect:R(()=>r(f)),fragment:a})}else this.#t.set(s,R(()=>r(this.anchor)));if(this.#s.set(e,s),n){for(const[i,u]of this.#t)i===s?e.unskip_effect(u):e.skip_effect(u);for(const[i,u]of this.#e)i===s?e.unskip_effect(u.effect):e.skip_effect(u.effect);e.oncommit(this.#n),e.ondiscard(this.#i)}else p&&(this.anchor=Y),this.#n()}}function ge(t,s,r=!1){p&&C();var e=new he(t),n=r?H:0;function a(f,i){if(p){const d=$(t);var u;if(d===z?u=0:d===G?u=!1:u=parseInt(d.substring(1)),f!==u){var o=j();k(o),e.anchor=o,O(!1),e.ensure(f,i),O(!0);return}}e.ensure(f,i)}F(()=>{var f=!1;s((i,u=0)=>{f=!0,a(u,i)}),f||a(!1,null)},n)}let b=!1,T=Symbol();function Se(t,s,r){const e=r[s]??={store:null,source:q(void 0),unsubscribe:D};if(e.store!==t&&!(T in r))if(e.unsubscribe(),e.store=t??null,t==null)e.source.v=void 0,e.unsubscribe=D;else{var n=!0;e.unsubscribe=J(t,a=>{n?e.source.v=a:N(e.source,a)}),n=!1}return t&&T in r?K(t):g(e.source)}function me(){const t={};function s(){Q(()=>{for(var r in t)t[r].unsubscribe();Z(t,T,{enumerable:!1,value:!0})})}return[t,s]}function ve(t){var s=b;try{return b=!1,[t(),b]}finally{b=s}}function pe(t,s,r,e){var n=!ie||(r&fe)!==0,a=(r&ae)!==0,f=(r&de)!==0,i=e,u=!0,o=()=>(u&&(u=!1,i=f?ne(e):e),i),d;if(a){var M=le in t||_e in t;d=V(t,s)?.set??(M&&s in t?c=>t[s]=c:void 0)}var _,A=!1;a?[_,A]=ve(()=>t[s]):_=t[s],_===void 0&&e!==void 0&&(_=o(),d&&(n&&W(),d(_)));var l;if(n?l=()=>{var c=t[s];return c===void 0?o():(u=!0,c)}:l=()=>{var c=t[s];return c!==void 0&&(i=void 0),c===void 0?i:c},n&&(r&X)===0)return l;if(d){var w=t.$$legacy;return(function(c,v){return arguments.length>0?((!n||!v||w||A)&&d(v?l():c),c):l()})}var S=!1,h=((r&ue)!==0?ce:oe)(()=>(S=!1,l()));a&&g(h);var L=te;return(function(c,v){if(arguments.length>0){const E=v?g(h):n&&a?ee(c):c;return N(h,E),S=!0,i!==void 0&&(i=E),c}return se&&S||(L.f&re)!==0?h.v:g(h)})}export{he as B,Se as a,ge as i,pe as p,me as s};

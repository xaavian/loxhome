import{d as Ye,s as W,b as k,a as w,f as L,c as Ze,e as ti,t as hr}from"../chunks/B-qeOuba.js";import{i as mr,E as gr,b8 as Hi,c as We,e as br,b9 as mn,aT as _r,ba as wr,bb as xr,A as yr,a9 as kr,h as gn,u as bn,r as _n,a0 as ze,a8 as wn,aQ as Ar,a4 as d,a5 as u,a6 as f,z as o,a2 as V,a3 as Pe,B as g,ab as fe,a1 as Me,aa as ee,X as vi,as as Be,G as Cr,bc as Er}from"../chunks/9vQHtRAg.js";import{B as Sr,i as ce,a as ge,s as je}from"../chunks/DCr_4wqs.js";import{M as we,h as $e,f as Ki,u as fi,v as Li,e as wi,q as Mi,g as Fe,o as Tr,s as Ee,a as pi,n as Oe,p as Vi,m as Gi,d as Ue,t as Fr,r as Le,b as Or,j as Zi,k as Ir,w as ei,i as ri,x as Qi,c as xn,y as Lr,l as Xi,z as Mr,A as $r,B as Ji,C as Nr,E as Dr}from"../chunks/BMNB3euX.js";function Rr(e,i,...n){var l=new Sr(e);mr(()=>{const r=i()??null;l.ensure(r,r&&(s=>r(s,...n)))},gr)}function yn(e,i,n=!1){if(e.multiple){if(i==null)return;if(!_r(i))return wr();for(var l of e.options)l.selected=i.includes(oi(l));return}for(l of e.options){var r=oi(l);if(xr(r,i)){l.selected=!0;return}}(!n||i!==void 0)&&(e.selectedIndex=-1)}function Br(e){var i=new MutationObserver(()=>{yn(e,e.__value)});i.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),yr(()=>{i.disconnect()})}function Hr(e,i,n=i){var l=new WeakSet,r=!0;Hi(e,"change",s=>{var t=s?"[selected]":":checked",a;if(e.multiple)a=[].map.call(e.querySelectorAll(t),oi);else{var c=e.querySelector(t)??e.querySelector("option:not([disabled])");a=c&&oi(c)}n(a),We!==null&&l.add(We)}),br(()=>{var s=i();if(e===document.activeElement){var t=mn??We;if(l.has(t))return}if(yn(e,s,r),r&&s===void 0){var a=e.querySelector(":checked");a!==null&&(s=oi(a),n(s))}e.__value=s,r=!1}),Br(e)}function oi(e){return"__value"in e?e.__value:e.value}function Ne(e,i,n=i){var l=new WeakSet;Hi(e,"input",async r=>{var s=r?e.defaultValue:e.value;if(s=Ei(e)?Si(s):s,n(s),We!==null&&l.add(We),await kr(),s!==(s=i())){var t=e.selectionStart,a=e.selectionEnd,c=e.value.length;if(e.value=s??"",a!==null){var v=e.value.length;t===a&&a===c&&v>c?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=t,e.selectionEnd=Math.min(a,v))}}}),(gn&&e.defaultValue!==e.value||bn(i)==null&&e.value)&&(n(Ei(e)?Si(e.value):e.value),We!==null&&l.add(We)),_n(()=>{var r=i();if(e===document.activeElement){var s=mn??We;if(l.has(s))return}Ei(e)&&r===Si(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Yr(e,i,n=i){Hi(e,"change",l=>{var r=l?e.defaultChecked:e.checked;n(r)}),(gn&&e.defaultChecked!==e.checked||bn(i)==null)&&n(e.checked),_n(()=>{var l=i();e.checked=!!l})}function Ei(e){var i=e.type;return i==="number"||i==="range"}function Si(e){return e===""?null:+e}const zr=!0,Pr=!1,Eo=Object.freeze(Object.defineProperty({__proto__:null,prerender:zr,ssr:Pr},Symbol.toStringTag,{value:"Module"}));var jr=L('<button class="icon-btn svelte-1elxaub" aria-label="Auto-Erkennung" title="R√§ume &amp; Ger√§te automatisch erkennen"><!></button> <button class="icon-btn svelte-1elxaub" aria-label="YAML-Editor" title="YAML-Konfiguration bearbeiten"><!></button> <button class="icon-btn done-btn svelte-1elxaub" aria-label="Bearbeitung beenden"><!></button>',1),qr=L('<span class="time-display svelte-1elxaub"> </span> <button class="icon-btn svelte-1elxaub" aria-label="Dashboard bearbeiten"><!></button> <button class="icon-btn svelte-1elxaub" aria-label="Suche"><!></button>',1),Ur=L('<header class="topbar svelte-1elxaub"><div class="topbar-left svelte-1elxaub"><button class="icon-btn svelte-1elxaub" aria-label="Men√º"><!></button> <span class="temp-display svelte-1elxaub"><!> </span></div> <div class="topbar-center svelte-1elxaub"><span class="brand svelte-1elxaub"> </span></div> <div class="topbar-right svelte-1elxaub"><!></div></header>');function Wr(e,i){ze(i,!0);const n=()=>ge($e,"$dashboardConfig",s),l=()=>ge(wi,"$entityStates",s),r=()=>ge(Ki,"$editMode",s),[s,t]=je();let a=ee("");function c(){g(a,new Date().toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",hour12:!1}),!0)}let v;wn(()=>{c(),v=setInterval(c,1e3)}),Ar(()=>{v&&clearInterval(v)});function h(){Ki.update(D=>!D)}function p(){Li.set(!0)}function b(){fi.set(!0)}function _(){try{window.parent.postMessage({type:"loxhome-toggle-sidebar"},"*")}catch{}}let S=fe(()=>n()?.settings?.weatherEntityId||"weather.home"),I=fe(()=>l()[o(S)]),R=fe(()=>o(I)?.attributes?.temperature!==void 0?`${o(I).attributes.temperature}¬∞`:"--¬∞");function B(D){return D&&{sunny:"mdi:weather-sunny","clear-night":"mdi:weather-night",partlycloudy:"mdi:weather-partly-cloudy",cloudy:"mdi:weather-cloudy",rainy:"mdi:weather-rainy",pouring:"mdi:weather-pouring",snowy:"mdi:weather-snowy","snowy-rainy":"mdi:weather-snowy-rainy",hail:"mdi:weather-hail",windy:"mdi:weather-windy","windy-variant":"mdi:weather-windy-variant",fog:"mdi:weather-fog",lightning:"mdi:weather-lightning","lightning-rainy":"mdi:weather-lightning-rainy",exceptional:"mdi:weather-cloudy-alert"}[D]||"mdi:weather-cloudy"}let m=fe(()=>B(o(I)?.state));var A=Ur(),M=d(A),Y=d(M),ie=d(Y);we(ie,{name:"mdi:menu",size:20}),u(Y);var K=f(Y,2),X=d(K);we(X,{get name(){return o(m)},size:18});var ne=f(X);u(K),u(M);var ae=f(M,2),ue=d(ae),be=d(ue,!0);u(ue),u(ae);var N=f(ae,2),E=d(N);{var C=D=>{var q=jr(),z=Me(q),de=d(z);we(de,{name:"mdi:auto-fix",size:18}),u(z);var oe=f(z,2),J=d(oe);we(J,{name:"mdi:code-tags",size:18}),u(oe);var te=f(oe,2),ke=d(te);we(ke,{name:"mdi:check",size:20,color:"var(--accent)"}),u(te),k("click",z,b),k("click",oe,p),k("click",te,h),w(D,q)},G=D=>{var q=qr(),z=Me(q),de=d(z,!0);u(z);var oe=f(z,2),J=d(oe);we(J,{name:"mdi:view-grid-plus-outline",size:18}),u(oe);var te=f(oe,2),ke=d(te);we(ke,{name:"mdi:magnify",size:18}),u(te),V(()=>W(de,o(a))),k("click",oe,h),w(D,q)};ce(E,D=>{r()?D(C):D(G,!1)})}u(N),u(A),V(()=>{W(ne,` ${o(R)??""}`),W(be,n().settings?.brandTitle||"LoxHome")}),k("click",Y,_),w(e,A),Pe(),t()}Ye(["click"]);var Kr=L('<button><div class="tab-icon svelte-1e81imw"><!></div> <span class="tab-label svelte-1e81imw"> </span></button>'),Vr=L('<nav class="bottombar svelte-1e81imw"></nav>');function Gr(e,i){ze(i,!0);const n=()=>ge(Tr,"$currentTabViews",r),l=()=>ge(Vi,"$activeTab",r),[r,s]=je(),t=[{id:"favourites",label:"Favoriten",icon:"mdi:star-outline"},{id:"central",label:"Zentral",icon:"mdi:home-outline"},{id:"rooms",label:"R√§ume",icon:"mdi:door-open"},{id:"categories",label:"Kategorien",icon:"mdi:view-grid-outline"}];function a(v){Vi.set(v)}vi(()=>{const v=n();v.length>0&&Mi.set(v[0].id)});var c=Vr();Fe(c,21,()=>t,Oe,(v,h)=>{var p=Kr();let b;var _=d(p),S=d(_);{let B=fe(()=>l()===o(h).id?o(h).icon.replace("-outline",""):o(h).icon),m=fe(()=>l()===o(h).id?"var(--accent)":"currentColor");we(S,{get name(){return o(B)},size:22,get color(){return o(m)}})}u(_);var I=f(_,2),R=d(I,!0);u(I),u(p),V(()=>{b=Ee(p,1,"tab svelte-1e81imw",null,b,{active:l()===o(h).id}),pi(p,"aria-label",o(h).label),W(R,o(h).label)}),k("click",p,()=>a(o(h).id)),w(v,p)}),u(c),w(e,c),Pe(),s()}Ye(["click"]);var Zr=L('<div class="control-section svelte-14577t0"><div class="slider-row svelte-14577t0"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="slider-icon svelte-14577t0"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line></svg> <label class="slider-label svelte-14577t0">Helligkeit</label> <span class="slider-value svelte-14577t0"> </span></div> <input type="range" min="1" max="100" class="lox-slider svelte-14577t0"/></div>'),Qr=L("<!> <button> </button>",1),Xr=L('<div class="control-section svelte-14577t0"><div class="temp-display svelte-14577t0"><span class="temp-value svelte-14577t0"> </span> <span class="temp-unit svelte-14577t0">Target</span></div> <div class="temp-controls svelte-14577t0"><button class="temp-btn svelte-14577t0" aria-label="Verringern"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <button class="temp-btn svelte-14577t0" aria-label="Erh√∂hen"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button></div></div>'),Jr=L('<div class="control-section svelte-14577t0"><div class="cover-btns svelte-14577t0"><button class="action-btn svelte-14577t0" aria-label="√ñffnen"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><polyline points="18 15 12 9 6 15"></polyline></svg> <span>Open</span></button> <button class="action-btn svelte-14577t0" aria-label="Stopp"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="6" y="6" width="12" height="12" rx="1"></rect></svg> <span>Stop</span></button> <button class="action-btn svelte-14577t0" aria-label="Schlie√üen"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><polyline points="6 9 12 15 18 9"></polyline></svg> <span>Close</span></button></div></div>'),el=ti('<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>'),il=ti('<svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21"></polygon></svg>'),nl=L('<div class="control-section svelte-14577t0"><div class="media-controls svelte-14577t0"><button class="action-btn svelte-14577t0" aria-label="Zur√ºck"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><polygon points="19 20 9 12 19 4"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></svg></button> <button class="action-btn play svelte-14577t0" aria-label="Play/Pause"><!></button> <button class="action-btn svelte-14577t0" aria-label="Weiter"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><polygon points="5 4 15 12 5 20"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></svg></button></div></div>'),rl=L("<button> </button>"),ll=L('<div class="modal-overlay svelte-14577t0"><div class="modal animate-slide-up svelte-14577t0"><div class="modal-header svelte-14577t0"><span class="modal-name svelte-14577t0"> </span> <button class="close-btn svelte-14577t0" aria-label="Close"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div> <div class="modal-body svelte-14577t0"><!> <div class="entity-info svelte-14577t0"><div class="info-row svelte-14577t0"><span class="info-label svelte-14577t0">State</span> <span> </span></div> <div class="info-row svelte-14577t0"><span class="info-label svelte-14577t0">Entity</span> <span class="info-value svelte-14577t0"> </span></div></div></div></div></div>');function tl(e,i){ze(i,!0);const n=()=>ge(Gi,"$modalEntityId",s),l=()=>ge(wi,"$entityStates",s),r=()=>ge($e,"$dashboardConfig",s),[s,t]=je();let a=fe(()=>n()?l()[n()]:void 0),c=fe(()=>n()?.split(".")[0]||""),v=fe(()=>o(a)?.attributes?.friendly_name||n()||""),h=fe(()=>()=>{if(n())for(const K of r().views){const X=K.tiles.find(ne=>ne.entityId===n());if(X)return X}}),p=fe(()=>o(h)()?.dimmable===!0),b=ee(100),_=ee(21);vi(()=>{o(a)&&o(c)==="light"&&g(b,o(a).attributes?.brightness?Math.round(o(a).attributes.brightness/255*100):100,!0),o(a)&&o(c)==="climate"&&g(_,o(a).attributes?.temperature||21,!0)});function S(){Gi.set(null)}function I(K){K.target.classList.contains("modal-overlay")&&S()}async function R(K){g(b,K,!0),n()&&await Ue("light","turn_on",{brightness:Math.round(K/100*255)},{entity_id:n()})}async function B(K){g(_,K,!0),n()&&await Ue("climate","set_temperature",{temperature:K},{entity_id:n()})}async function m(){n()&&await Fr(n())}let A=fe(()=>o(a)?!["off","unavailable","unknown","idle"].includes(o(a).state):!1);var M=Ze(),Y=Me(M);{var ie=K=>{var X=ll(),ne=d(X),ae=d(ne),ue=d(ae),be=d(ue,!0);u(ue);var N=f(ue,2);u(ae);var E=f(ae,2),C=d(E);{var G=F=>{var y=Qr(),x=Me(y);{var T=le=>{var he=Zr(),ve=d(he),Ae=f(d(ve),4),Z=d(Ae);u(Ae),u(ve);var Q=f(ve,2);Le(Q),u(he),V(()=>{W(Z,`${o(b)??""}%`),Or(Q,o(b))}),k("input",Q,P=>R(parseInt(P.target.value))),w(le,he)};ce(x,le=>{o(p)&&le(T)})}var $=f(x,2);let H;var re=d($,!0);u($),V(()=>{H=Ee($,1,"toggle-btn svelte-14577t0",null,H,{on:o(A)}),W(re,o(A)?"Turn Off":"Turn On")}),k("click",$,m),w(F,y)},D=F=>{var y=Xr(),x=d(y),T=d(x),$=d(T);u(T),Be(2),u(x);var H=f(x,2),re=d(H),le=f(re,2);u(H),u(y),V(()=>W($,`${o(_)??""}¬∞`)),k("click",re,()=>B(o(_)-.5)),k("click",le,()=>B(o(_)+.5)),w(F,y)},q=F=>{var y=Jr(),x=d(y),T=d(x),$=f(T,2),H=f($,2);u(x),u(y),k("click",T,()=>n()&&Ue("cover","open_cover",{},{entity_id:n()})),k("click",$,()=>n()&&Ue("cover","stop_cover",{},{entity_id:n()})),k("click",H,()=>n()&&Ue("cover","close_cover",{},{entity_id:n()})),w(F,y)},z=F=>{var y=nl(),x=d(y),T=d(x),$=f(T,2),H=d($);{var re=ve=>{var Ae=el();w(ve,Ae)},le=ve=>{var Ae=il();w(ve,Ae)};ce(H,ve=>{o(A)&&o(a)?.state==="playing"?ve(re):ve(le,!1)})}u($);var he=f($,2);u(x),u(y),k("click",T,()=>n()&&Ue("media_player","media_previous_track",{},{entity_id:n()})),k("click",$,()=>n()&&Ue("media_player","media_play_pause",{},{entity_id:n()})),k("click",he,()=>n()&&Ue("media_player","media_next_track",{},{entity_id:n()})),w(F,y)},de=F=>{var y=rl();let x;var T=d(y,!0);u(y),V(()=>{x=Ee(y,1,"toggle-btn svelte-14577t0",null,x,{on:o(A)}),W(T,o(A)?"Turn Off":"Turn On")}),k("click",y,m),w(F,y)};ce(C,F=>{o(c)==="light"?F(G):o(c)==="climate"?F(D,1):o(c)==="cover"?F(q,2):o(c)==="media_player"?F(z,3):F(de,!1)})}var oe=f(C,2),J=d(oe),te=f(d(J),2);let ke;var se=d(te,!0);u(te),u(J);var j=f(J,2),U=f(d(j),2),pe=d(U,!0);u(U),u(j),u(oe),u(E),u(ne),u(X),V(()=>{W(be,o(v)),ke=Ee(te,1,"info-value svelte-14577t0",null,ke,{on:o(A)}),W(se,o(a).state),W(pe,n())}),k("click",X,I),k("keydown",X,F=>F.key==="Escape"&&S()),k("click",N,S),w(K,X)};ce(Y,K=>{n()&&o(a)&&K(ie)})}w(e,M),Pe(),t()}Ye(["click","keydown","input"]);var al=L(`<p class="no-results svelte-1lw91cn">Keine Entit√§ten gefunden. Bitte zuerst mit Home
								Assistant verbinden.</p>`),ol=L('<button><span class="entity-icon svelte-1lw91cn"><!></span> <div class="entity-info svelte-1lw91cn"><span class="entity-name svelte-1lw91cn"> </span> <span class="entity-id svelte-1lw91cn"> </span></div> <span class="entity-state svelte-1lw91cn"> </span></button>'),sl=L("<option> </option>"),cl=L("<button> </button>"),ul=L('<button><span class="size-label svelte-1lw91cn"> </span> <span class="size-desc svelte-1lw91cn"> </span></button>'),dl=L('<label class="toggle-row svelte-1lw91cn"><input type="checkbox" class="svelte-1lw91cn"/> <span>Dimmbar (Helligkeitsregler anzeigen)</span></label>'),vl=L('<div class="options-section"><label class="section-label svelte-1lw91cn">Raum zuweisen</label> <select class="room-select svelte-1lw91cn"></select> <label class="section-label svelte-1lw91cn">Typ</label> <div class="type-grid svelte-1lw91cn"></div> <label class="section-label svelte-1lw91cn">Gr√∂√üe</label> <div class="size-grid svelte-1lw91cn"></div> <label class="section-label svelte-1lw91cn">Eigener Name</label> <input type="text" class="search-input svelte-1lw91cn" placeholder="Leer lassen f√ºr Entit√§tsname"/> <label class="section-label svelte-1lw91cn">Eigenes Icon</label> <input type="text" class="search-input icon-input svelte-1lw91cn" placeholder="e.g. üí° üå°Ô∏è ‚ö°"/> <!></div>'),fl=L('<div class="dialog-overlay svelte-1lw91cn"><div class="dialog animate-scale-in svelte-1lw91cn"><div class="dialog-header svelte-1lw91cn"><span class="dialog-title svelte-1lw91cn">Kachel hinzuf√ºgen</span> <button class="close-btn svelte-1lw91cn" aria-label="Close"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div> <div class="dialog-body svelte-1lw91cn"><div class="search-section"><label class="section-label svelte-1lw91cn">Entit√§t</label> <input type="text" class="search-input svelte-1lw91cn" placeholder="Entit√§ten suchen..."/> <div class="entity-list svelte-1lw91cn"><!> <!></div></div> <!></div> <div class="dialog-footer svelte-1lw91cn"><button class="btn-cancel svelte-1lw91cn">Abbrechen</button> <button class="btn-add svelte-1lw91cn">Kachel hinzuf√ºgen</button></div></div></div>');function pl(e,i){ze(i,!0);const n=()=>ge(Zi,"$showAddTileDialog",t),l=()=>ge(Ir,"$activeView",t),r=()=>ge(wi,"$entityStates",t),s=()=>ge($e,"$dashboardConfig",t),[t,a]=je();let c=ee(""),v=ee(""),h=ee("generic"),p=ee("1x1"),b=ee(""),_=ee(""),S=ee(!1),I=ee("");vi(()=>{n()&&l()&&g(I,l().id,!0)});let R=fe(()=>o(v)?o(v).split(".")[0]:""),B=fe(()=>Object.entries(r()).map(([E,C])=>({entity_id:E,name:C.attributes?.friendly_name||E,domain:E.split(".")[0],state:C.state}))),m=fe(()=>o(B).filter(E=>E.entity_id.toLowerCase().includes(o(c).toLowerCase())||E.name.toLowerCase().includes(o(c).toLowerCase())).slice(0,50));function A(E){const C=E.split(".")[0];return{light:"light",switch:"switch",climate:"climate",cover:"cover",sensor:"sensor",media_player:"media",camera:"camera"}[C]||"generic"}function M(E){g(v,E,!0),g(h,A(E),!0)}function Y(){if(!o(v))return;const E=o(I)||l()?.id;E&&($e.update(C=>{const G=C.views.find(q=>q.id===E);if(!G)return C;const D={id:ei(),type:o(h),entityId:o(v),size:o(p),order:G.tiles.length,...o(b)?{name:o(b)}:{},...o(_)?{icon:o(_)}:{},...o(S)?{dimmable:!0}:{}};return G.tiles.push(D),ri(C),{...C}}),ie())}function ie(){Zi.set(!1),g(c,""),g(v,""),g(h,"generic"),g(p,"1x1"),g(b,""),g(_,""),g(S,!1),g(I,"")}function K(E){E.target.classList.contains("dialog-overlay")&&ie()}const X=[{value:"light",label:"Light"},{value:"switch",label:"Switch"},{value:"climate",label:"Climate"},{value:"cover",label:"Cover"},{value:"sensor",label:"Sensor"},{value:"media",label:"Media"},{value:"camera",label:"Camera"},{value:"generic",label:"Generic"}],ne=[{value:"1x1",label:"1√ó1",desc:"Small"},{value:"2x1",label:"2√ó1",desc:"Wide"},{value:"1x2",label:"1√ó2",desc:"Tall"},{value:"2x2",label:"2√ó2",desc:"Large"}];function ae(E){return{light:"mdi:lightbulb",switch:"mdi:flash",climate:"mdi:snowflake",cover:"mdi:window-shutter",sensor:"mdi:chart-line",media_player:"mdi:music",camera:"mdi:camera",fan:"mdi:fan",lock:"mdi:lock",automation:"mdi:robot"}[E]||"mdi:circle"}var ue=Ze(),be=Me(ue);{var N=E=>{var C=fl(),G=d(C),D=d(G),q=f(d(D),2);u(D);var z=f(D,2),de=d(z),oe=f(d(de),2);Le(oe);var J=f(oe,2),te=d(J);{var ke=x=>{var T=al();w(x,T)};ce(te,x=>{o(m).length===0&&x(ke)})}var se=f(te,2);Fe(se,17,()=>o(m),Oe,(x,T)=>{var $=ol();let H;var re=d($),le=d(re);{let _e=fe(()=>ae(o(T).domain));we(le,{get name(){return o(_e)},size:20})}u(re);var he=f(re,2),ve=d(he),Ae=d(ve,!0);u(ve);var Z=f(ve,2),Q=d(Z,!0);u(Z),u(he);var P=f(he,2),me=d(P,!0);u(P),u($),V(()=>{H=Ee($,1,"entity-item svelte-1lw91cn",null,H,{selected:o(v)===o(T).entity_id}),W(Ae,o(T).name),W(Q,o(T).entity_id),W(me,o(T).state)}),k("click",$,()=>M(o(T).entity_id)),w(x,$)}),u(J),u(de);var j=f(de,2);{var U=x=>{var T=vl(),$=f(d(T),2);Fe($,5,()=>s().views,Oe,(Z,Q)=>{var P=sl(),me=d(P);u(P);var _e={};V(()=>{W(me,`${o(Q).icon??""} ${o(Q).name??""}`),_e!==(_e=o(Q).id)&&(P.value=(P.__value=o(Q).id)??"")}),w(Z,P)}),u($);var H=f($,4);Fe(H,21,()=>X,Oe,(Z,Q)=>{var P=cl();let me;var _e=d(P,!0);u(P),V(()=>{me=Ee(P,1,"type-option svelte-1lw91cn",null,me,{selected:o(h)===o(Q).value}),W(_e,o(Q).label)}),k("click",P,()=>g(h,o(Q).value,!0)),w(Z,P)}),u(H);var re=f(H,4);Fe(re,21,()=>ne,Oe,(Z,Q)=>{var P=ul();let me;var _e=d(P),qe=d(_e,!0);u(_e);var Qe=f(_e,2),yi=d(Qe,!0);u(Qe),u(P),V(()=>{me=Ee(P,1,"size-option svelte-1lw91cn",null,me,{selected:o(p)===o(Q).value}),W(qe,o(Q).label),W(yi,o(Q).desc)}),k("click",P,()=>g(p,o(Q).value,!0)),w(Z,P)}),u(re);var le=f(re,4);Le(le);var he=f(le,4);Le(he);var ve=f(he,2);{var Ae=Z=>{var Q=dl(),P=d(Q);Le(P),Be(2),u(Q),Yr(P,()=>o(S),me=>g(S,me)),w(Z,Q)};ce(ve,Z=>{o(R)==="light"&&Z(Ae)})}u(T),Hr($,()=>o(I),Z=>g(I,Z)),Ne(le,()=>o(b),Z=>g(b,Z)),Ne(he,()=>o(_),Z=>g(_,Z)),w(x,T)};ce(j,x=>{o(v)&&x(U)})}u(z);var pe=f(z,2),F=d(pe),y=f(F,2);u(pe),u(G),u(C),V(()=>y.disabled=!o(v)),k("click",C,K),k("keydown",C,x=>x.key==="Escape"&&ie()),k("click",q,ie),Ne(oe,()=>o(c),x=>g(c,x)),k("click",F,ie),k("click",y,Y),w(E,C)};ce(be,E=>{n()&&E(N)})}w(e,ue),Pe(),a()}Ye(["click","keydown"]);var hl=L('<button class="remove-btn svelte-l2vf1w"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button>'),ml=L('<div class="view-item svelte-l2vf1w"><span class="view-icon svelte-l2vf1w"><!></span> <span class="view-name svelte-l2vf1w"> </span> <!></div>'),gl=L("<button><!></button>"),bl=L("<button></button>"),_l=L('<div class="dialog-overlay svelte-l2vf1w"><div class="dialog animate-scale-in svelte-l2vf1w"><div class="dialog-header svelte-l2vf1w"><span class="dialog-title svelte-l2vf1w">Ansichten verwalten</span> <button class="close-btn svelte-l2vf1w" aria-label="Close"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div> <div class="dialog-body svelte-l2vf1w"><div class="views-list svelte-l2vf1w"></div> <div class="add-section svelte-l2vf1w"><span class="section-label svelte-l2vf1w">Ansicht hinzuf√ºgen</span> <input type="text" placeholder="Name der Ansicht..." class="name-input svelte-l2vf1w"/> <div class="picker-row svelte-l2vf1w"><label class="picker-label svelte-l2vf1w">Icon</label> <div class="picker-grid svelte-l2vf1w"></div></div> <div class="picker-row svelte-l2vf1w"><label class="picker-label svelte-l2vf1w">Farbe</label> <div class="picker-grid svelte-l2vf1w"></div></div> <button class="btn-add svelte-l2vf1w">Hinzuf√ºgen</button></div></div></div></div>');function wl(e,i){ze(i,!0);const n=()=>ge($e,"$dashboardConfig",s),l=()=>ge(Mi,"$activeViewId",s),r=()=>ge(Qi,"$showViewEditor",s),[s,t]=je();let a=ee(""),c=ee("mdi:home"),v=ee("#69b34c");const h=["mdi:home","mdi:sofa","mdi:bed","mdi:stove","mdi:shower","mdi:office-building","mdi:tree","mdi:car","mdi:star","mdi:television","mdi:gamepad-variant","mdi:dumbbell","mdi:desk","mdi:door","mdi:stairs","mdi:baby-face","mdi:pool","mdi:book-open-variant","mdi:washing-machine","mdi:flower","mdi:fridge","mdi:balcony","mdi:server","mdi:toilet"],p=["#69b34c","#e8c840","#4aa8d8","#e85050","#e84898","#8d6e63","#26c6da","#ab47bc"];function b(){if(!o(a).trim())return;const A={id:ei(),name:o(a).trim(),icon:o(c),color:o(v),tiles:[],order:n().views.length};$e.update(M=>(M.views.push(A),ri(M),{...M})),g(a,""),g(c,"mdi:home")}function _(A){n().views.length<=1||$e.update(M=>(M.views=M.views.filter(Y=>Y.id!==A),l()===A&&M.views.length>0&&Mi.set(M.views[0].id),ri(M),{...M}))}function S(){Qi.set(!1)}function I(A){A.target.classList.contains("dialog-overlay")&&S()}var R=Ze(),B=Me(R);{var m=A=>{var M=_l(),Y=d(M),ie=d(Y),K=f(d(ie),2);u(ie);var X=f(ie,2),ne=d(X);Fe(ne,5,()=>n().views,Oe,(D,q)=>{var z=ml(),de=d(z),oe=d(de);we(oe,{get name(){return o(q).icon},size:20}),u(de);var J=f(de,2),te=d(J,!0);u(J);var ke=f(J,2);{var se=j=>{var U=hl();V(()=>pi(U,"aria-label",`Remove ${o(q).name??""}`)),k("click",U,()=>_(o(q).id)),w(j,U)};ce(ke,j=>{n().views.length>1&&j(se)})}u(z),V(()=>W(te,o(q).name)),w(D,z)}),u(ne);var ae=f(ne,2),ue=f(d(ae),2);Le(ue);var be=f(ue,2),N=f(d(be),2);Fe(N,21,()=>h,Oe,(D,q)=>{var z=gl();let de;var oe=d(z);we(oe,{get name(){return o(q)},size:20}),u(z),V(()=>de=Ee(z,1,"picker-item svelte-l2vf1w",null,de,{selected:o(c)===o(q)})),k("click",z,()=>g(c,o(q),!0)),w(D,z)}),u(N),u(be);var E=f(be,2),C=f(d(E),2);Fe(C,21,()=>p,Oe,(D,q)=>{var z=bl();let de;V(()=>{de=Ee(z,1,"color-item svelte-l2vf1w",null,de,{selected:o(v)===o(q)}),xn(z,`background: ${o(q)??""}`),pi(z,"aria-label",o(q))}),k("click",z,()=>g(v,o(q),!0)),w(D,z)}),u(C),u(E);var G=f(E,2);u(ae),u(X),u(Y),u(M),V(D=>G.disabled=D,[()=>!o(a).trim()]),k("click",M,I),k("keydown",M,D=>D.key==="Escape"&&S()),k("click",K,S),Ne(ue,()=>o(a),D=>g(a,D)),k("click",G,b),w(A,M)};ce(B,A=>{r()&&A(m)})}w(e,R),Pe(),t()}Ye(["click","keydown"]);var xl=L("<div></div>"),yl=L("<div></div> <!>",1),kl=L(`<div class="step-section svelte-14holku"><div class="step-icon svelte-14holku"><!></div> <h2 class="step-title svelte-14holku">Willkommen bei LoxHome</h2> <p class="step-desc svelte-14holku">Richte dein Dashboard in wenigen Schritten ein. Wir
                            erkennen automatisch deine R√§ume und Ger√§te aus Home
                            Assistant.</p> <div class="form-field svelte-14holku"><label for="brand-title" class="svelte-14holku">Dashboard-Name</label> <input id="brand-title" type="text" placeholder="LoxHome" class="svelte-14holku"/> <p class="field-hint svelte-14holku">Wird oben im Header angezeigt</p></div> <button class="btn-primary svelte-14holku">Einrichtung starten</button></div>`),Al=L('<div class="step-icon svelte-14holku"><!></div> <h2 class="step-title svelte-14holku">Fehler bei der Erkennung</h2> <p class="step-error svelte-14holku"> </p> <button class="btn-secondary svelte-14holku">Erneut versuchen</button>',1),Cl=L('<div class="spinner svelte-14holku"></div> <p class="loading-text svelte-14holku">Bereiche & Entit√§ten werden gescannt...</p>',1),El=L('<div class="step-section svelte-14holku"><!></div>'),Sl=ti('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="3" class="svelte-14holku"><polyline points="20 6 9 17 4 12" class="svelte-14holku"></polyline></svg>'),Tl=ti('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="2" class="svelte-14holku"><rect x="3" y="3" width="18" height="18" rx="3" class="svelte-14holku"></rect></svg>'),Fl=L('<button><span class="room-check svelte-14holku"><!></span> <span class="room-icon-sm svelte-14holku"><!></span> <span class="room-name-text svelte-14holku"> </span> <span class="room-count svelte-14holku"> </span></button>'),Ol=L('<div class="room-row unassigned-row svelte-14holku"><span class="room-check svelte-14holku"></span> <span class="room-icon-sm svelte-14holku"><!></span> <span class="room-name-text svelte-14holku">Favoriten (mit Label)</span> <span class="room-count svelte-14holku"> </span></div>'),Il=L(`<div class="step-section compact svelte-14holku"><h2 class="step-title-sm svelte-14holku">Erkannte R√§ume</h2> <p class="step-desc-sm svelte-14holku">W√§hle die R√§ume, die im Dashboard angezeigt werden
                            sollen.</p> <div class="summary-bar svelte-14holku"><span class="summary-stat svelte-14holku"><strong class="svelte-14holku"> </strong> R√§ume</span> <span class="summary-divider svelte-14holku">¬∑</span> <span class="summary-stat svelte-14holku"><strong class="svelte-14holku"> </strong> Entit√§ten</span></div> <div class="room-list svelte-14holku"><!> <!></div> <div class="step-actions svelte-14holku"><button class="btn-secondary svelte-14holku">Zur√ºck</button> <button class="btn-primary svelte-14holku">Weiter</button></div></div>`),Ll=L('<span class="zentrale-badge svelte-14holku">Zentrale</span>'),Ml=L('<button><span class="room-icon-sm svelte-14holku"><!></span> <span class="room-name-text svelte-14holku"> </span> <!></button>'),$l=L(`<div class="step-section compact svelte-14holku"><h2 class="step-title-sm svelte-14holku">Zentrale einrichten</h2> <p class="step-desc-sm svelte-14holku">W√§hle einen Raum f√ºr den ‚ÄûZentrale"-Tab. Dieser wird
                            als Startseite angezeigt.</p> <div class="zentrale-list svelte-14holku"></div> <p class="field-hint zentrale-hint svelte-14holku">Optional ‚Äî du kannst dies auch sp√§ter √§ndern.</p> <div class="step-actions svelte-14holku"><button class="btn-secondary svelte-14holku">Zur√ºck</button> <button class="btn-primary svelte-14holku">Weiter</button></div></div>`),Nl=L('<span class="zentrale-badge svelte-14holku">Ausgew√§hlt</span>'),Dl=L('<button><span class="room-icon-sm svelte-14holku"><!></span> <span class="room-name-text svelte-14holku"> </span> <!></button>'),Rl=L('<div class="zentrale-list svelte-14holku"></div>'),Bl=L(`<div class="form-field svelte-14holku"><label for="weather-entity" class="svelte-14holku">Wetter Entity-ID</label> <input id="weather-entity" type="text" placeholder="weather.home" class="svelte-14holku"/> <p class="field-hint svelte-14holku">Keine Wetter-Entit√§ten gefunden. Manuell
                                    eingeben.</p></div>`),Hl=L('<div class="step-section compact svelte-14holku"><h2 class="step-title-sm svelte-14holku">Wetter-Entit√§t</h2> <p class="step-desc-sm svelte-14holku">W√§hle eine Wetter-Entit√§t f√ºr die Anzeige im Header.</p> <!> <p class="field-hint zentrale-hint svelte-14holku">Optional ‚Äî du kannst dies auch sp√§ter √§ndern.</p> <div class="step-actions svelte-14holku"><button class="btn-secondary svelte-14holku">Zur√ºck</button> <button class="btn-primary svelte-14holku">Dashboard erstellen</button></div></div>'),Yl=L('<div class="step-section svelte-14holku"><div class="step-icon done-icon svelte-14holku"><!></div> <h2 class="step-title svelte-14holku">Fertig!</h2> <p class="step-desc svelte-14holku">Dein Dashboard wurde mit <strong class="svelte-14holku"> </strong> R√§umen und <strong class="svelte-14holku"> </strong> Entit√§ten eingerichtet.</p> <button class="btn-primary svelte-14holku">Dashboard starten</button></div>'),zl=L('<div class="wizard-overlay svelte-14holku"><div class="wizard animate-scale-in svelte-14holku"><div class="wizard-progress svelte-14holku"></div> <div class="wizard-body svelte-14holku"><!></div></div></div>');function Pl(e,i){ze(i,!0);const n=()=>ge(wi,"$entityStates",r),l=()=>ge(fi,"$showOnboarding",r),[r,s]=je();let t=ee("welcome"),a=ee(null),c=ee(""),v=ee("LoxHome"),h=ee(null),p=ee(Cr(new Set)),b=ee("weather.home");const _=["#69b34c","#e8c840","#4aa8d8","#e85050","#ab47bc","#8d6e63","#26c6da","#e84898"];function S(N){return N&&N.startsWith("mdi:")?N:"mdi:home"}function I(N){const E=N.split(".")[0];return{light:"light",switch:"switch",climate:"climate",cover:"cover",sensor:"sensor",media_player:"media",camera:"camera"}[E]||"generic"}async function R(){g(t,"discover"),g(c,"");try{g(a,await Lr(),!0),g(p,new Set(o(a).areas.map(N=>N.area.area_id)),!0),g(t,"review")}catch(N){g(c,N instanceof Error?N.message:"Erkennung fehlgeschlagen",!0),g(t,"discover")}}function B(N){const E=new Set(o(p));E.has(N)?E.delete(N):E.add(N),g(p,E,!0)}function m(){g(t,"zentrale")}function A(){g(t,"weather")}let M=fe(()=>Object.keys(n()).filter(N=>N.startsWith("weather.")));function Y(){if(!o(a))return;const E=o(a).areas.filter(C=>o(p).has(C.area.area_id)).map((C,G)=>({id:ei(),name:C.area.name,icon:S(C.area.icon),color:_[G%_.length],order:G,tiles:C.entities.map((D,q)=>({id:ei(),type:I(D),entityId:D,size:"1x1",order:q,dimmable:D.startsWith("light.")}))}));o(a).favoriteEntities.length>0&&E.unshift({id:"favourites",name:"Favoriten",icon:"mdi:star",color:"#e8c840",order:-1,tiles:o(a).favoriteEntities.slice(0,30).map((C,G)=>({id:ei(),type:I(C),entityId:C,size:"1x1",order:G,dimmable:C.startsWith("light.")}))}),o(a).centralEntities.length>0&&E.unshift({id:"central",name:"Zentrale",icon:"mdi:home",color:"#69b34c",order:-2,tiles:o(a).centralEntities.slice(0,50).map((C,G)=>({id:ei(),type:I(C),entityId:C,size:"1x1",order:G,dimmable:C.startsWith("light.")}))}),E.forEach((C,G)=>C.order=G),$e.update(C=>(C.views=E,C.title=o(v)||"Mein Zuhause",C.settings={...C.settings,brandTitle:o(v)||"LoxHome",centralViewId:(o(a)?.centralEntities?.length??0)>0?"central":"",weatherEntityId:o(b)||"weather.home"},ri(C),{...C})),localStorage.setItem("loxhome-onboarding-done","true"),g(t,"done")}function ie(){fi.set(!1)}let K=fe(()=>o(a)?o(a).areas.filter(N=>o(p).has(N.area.area_id)).reduce((N,E)=>N+E.entities.length,0)+(o(a).favoriteEntities.length||0):0),X=fe(()=>o(p).size);const ne=["welcome","discover","review","zentrale","weather","done"];var ae=Ze(),ue=Me(ae);{var be=N=>{var E=zl(),C=d(E),G=d(C);Fe(G,21,()=>ne,Oe,(se,j,U)=>{var pe=yl(),F=Me(pe),y=f(F,2);{var x=T=>{var $=xl();V(H=>Ee($,1,`progress-line ${H??""}`,"svelte-14holku"),[()=>ne.indexOf(o(t))>U?"completed":""]),w(T,$)};ce(y,T=>{U<ne.length-1&&T(x)})}V(T=>Ee(F,1,`progress-dot ${o(t)===o(j)?"active":""} ${T??""}`,"svelte-14holku"),[()=>ne.indexOf(o(t))>U?"completed":""]),w(se,pe)}),u(G);var D=f(G,2),q=d(D);{var z=se=>{var j=kl(),U=d(j),pe=d(U);we(pe,{name:"mdi:home",size:56,color:"var(--accent)"}),u(U);var F=f(U,6),y=f(d(F),2);Le(y),Be(2),u(F);var x=f(F,2);u(j),Ne(y,()=>o(v),T=>g(v,T)),k("click",x,R),w(se,j)},de=se=>{var j=El(),U=d(j);{var pe=y=>{var x=Al(),T=Me(x),$=d(T);we($,{name:"mdi:alert",size:56,color:"var(--color-error)"}),u(T);var H=f(T,4),re=d(H,!0);u(H);var le=f(H,2);V(()=>W(re,o(c))),k("click",le,R),w(y,x)},F=y=>{var x=Cl();Be(2),w(y,x)};ce(U,y=>{o(c)?y(pe):y(F,!1)})}u(j),w(se,j)},oe=se=>{var j=Il(),U=f(d(j),4),pe=d(U),F=d(pe),y=d(F,!0);u(F),Be(),u(pe);var x=f(pe,4),T=d(x),$=d(T,!0);u(T),Be(),u(x),u(U);var H=f(U,2),re=d(H);Fe(re,17,()=>o(a)?.areas||[],Oe,(Q,P)=>{var me=Fl(),_e=d(me),qe=d(_e);{var Qe=De=>{var Ci=Sl();w(De,Ci)},yi=fe(()=>o(p).has(o(P).area.area_id)),dr=De=>{var Ci=Tl();w(De,Ci)};ce(qe,De=>{o(yi)?De(Qe):De(dr,!1)})}u(_e);var ki=f(_e,2),vr=d(ki);{let De=fe(()=>S(o(P).area.icon));we(vr,{get name(){return o(De)},size:20})}u(ki);var Ai=f(ki,2),fr=d(Ai,!0);u(Ai);var Wi=f(Ai,2),pr=d(Wi,!0);u(Wi),u(me),V(De=>{Ee(me,1,`room-row ${De??""}`,"svelte-14holku"),W(fr,o(P).area.name),W(pr,o(P).entities.length)},[()=>o(p).has(o(P).area.area_id)?"enabled":"disabled"]),k("click",me,()=>B(o(P).area.area_id)),w(Q,me)});var le=f(re,2);{var he=Q=>{var P=Ol(),me=f(d(P),2),_e=d(me);we(_e,{name:"mdi:star",size:20,color:"#e8c840"}),u(me);var qe=f(me,4),Qe=d(qe,!0);u(qe),u(P),V(()=>W(Qe,o(a)?.favoriteEntities.length)),w(Q,P)};ce(le,Q=>{(o(a)?.favoriteEntities.length||0)>0&&Q(he)})}u(H);var ve=f(H,2),Ae=d(ve),Z=f(Ae,2);u(ve),u(j),V(()=>{W(y,o(X)),W($,o(K)),Z.disabled=o(X)===0}),k("click",Ae,()=>g(t,"welcome")),k("click",Z,m),w(se,j)},J=se=>{var j=$l(),U=f(d(j),4);Fe(U,21,()=>o(a)?.areas.filter(x=>o(p).has(x.area.area_id))||[],Oe,(x,T)=>{var $=Ml(),H=d($),re=d(H);{let Z=fe(()=>S(o(T).area.icon));we(re,{get name(){return o(Z)},size:20})}u(H);var le=f(H,2),he=d(le,!0);u(le);var ve=f(le,2);{var Ae=Z=>{var Q=Ll();w(Z,Q)};ce(ve,Z=>{o(h)===o(T).area.area_id&&Z(Ae)})}u($),V(()=>{Ee($,1,`zentrale-row ${o(h)===o(T).area.area_id?"selected":""}`,"svelte-14holku"),W(he,o(T).area.name)}),k("click",$,()=>g(h,o(h)===o(T).area.area_id?null:o(T).area.area_id,!0)),w(x,$)}),u(U);var pe=f(U,4),F=d(pe),y=f(F,2);u(pe),u(j),k("click",F,()=>g(t,"review")),k("click",y,A),w(se,j)},te=se=>{var j=Hl(),U=f(d(j),4);{var pe=$=>{var H=Rl();Fe(H,21,()=>o(M),Oe,(re,le)=>{var he=Dl(),ve=d(he),Ae=d(ve);we(Ae,{name:"mdi:weather-partly-cloudy",size:20}),u(ve);var Z=f(ve,2),Q=d(Z,!0);u(Z);var P=f(Z,2);{var me=_e=>{var qe=Nl();w(_e,qe)};ce(P,_e=>{o(b)===o(le)&&_e(me)})}u(he),V(()=>{Ee(he,1,`zentrale-row ${o(b)===o(le)?"selected":""}`,"svelte-14holku"),W(Q,o(le))}),k("click",he,()=>g(b,o(le),!0)),w(re,he)}),u(H),w($,H)},F=$=>{var H=Bl(),re=f(d(H),2);Le(re),Be(2),u(H),Ne(re,()=>o(b),le=>g(b,le)),w($,H)};ce(U,$=>{o(M).length>0?$(pe):$(F,!1)})}var y=f(U,4),x=d(y),T=f(x,2);u(y),u(j),k("click",x,()=>g(t,"zentrale")),k("click",T,Y),w(se,j)},ke=se=>{var j=Yl(),U=d(j),pe=d(U);we(pe,{name:"mdi:check-circle",size:56,color:"var(--accent)"}),u(U);var F=f(U,4),y=f(d(F)),x=d(y,!0);u(y);var T=f(y,2),$=d(T,!0);u(T),Be(),u(F);var H=f(F,2);u(j),V(()=>{W(x,o(X)),W($,o(K))}),k("click",H,ie),w(se,j)};ce(q,se=>{o(t)==="welcome"?se(z):o(t)==="discover"?se(de,1):o(t)==="review"?se(oe,2):o(t)==="zentrale"?se(J,3):o(t)==="weather"?se(te,4):o(t)==="done"&&se(ke,5)})}u(D),u(C),u(E),w(N,E)};ce(ue,N=>{l()&&N(be)})}w(e,ae),Pe(),s()}Ye(["click"]);function kn(e){return typeof e>"u"||e===null}function jl(e){return typeof e=="object"&&e!==null}function ql(e){return Array.isArray(e)?e:kn(e)?[]:[e]}function Ul(e,i){var n,l,r,s;if(i)for(s=Object.keys(i),n=0,l=s.length;n<l;n+=1)r=s[n],e[r]=i[r];return e}function Wl(e,i){var n="",l;for(l=0;l<i;l+=1)n+=e;return n}function Kl(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Vl=kn,Gl=jl,Zl=ql,Ql=Wl,Xl=Kl,Jl=Ul,ye={isNothing:Vl,isObject:Gl,toArray:Zl,repeat:Ql,isNegativeZero:Xl,extend:Jl};function An(e,i){var n="",l=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!i&&e.mark.snippet&&(n+=`

`+e.mark.snippet),l+" "+n):l}function si(e,i){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=i,this.message=An(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}si.prototype=Object.create(Error.prototype);si.prototype.constructor=si;si.prototype.toString=function(i){return this.name+": "+An(this,i)};var Te=si;function Ti(e,i,n,l,r){var s="",t="",a=Math.floor(r/2)-1;return l-i>a&&(s=" ... ",i=l-a+s.length),n-l>a&&(t=" ...",n=l+a-t.length),{str:s+e.slice(i,n).replace(/\t/g,"‚Üí")+t,pos:l-i+s.length}}function Fi(e,i){return ye.repeat(" ",i-e.length)+e}function et(e,i){if(i=Object.create(i||null),!e.buffer)return null;i.maxLength||(i.maxLength=79),typeof i.indent!="number"&&(i.indent=1),typeof i.linesBefore!="number"&&(i.linesBefore=3),typeof i.linesAfter!="number"&&(i.linesAfter=2);for(var n=/\r?\n|\r|\0/g,l=[0],r=[],s,t=-1;s=n.exec(e.buffer);)r.push(s.index),l.push(s.index+s[0].length),e.position<=s.index&&t<0&&(t=l.length-2);t<0&&(t=l.length-1);var a="",c,v,h=Math.min(e.line+i.linesAfter,r.length).toString().length,p=i.maxLength-(i.indent+h+3);for(c=1;c<=i.linesBefore&&!(t-c<0);c++)v=Ti(e.buffer,l[t-c],r[t-c],e.position-(l[t]-l[t-c]),p),a=ye.repeat(" ",i.indent)+Fi((e.line-c+1).toString(),h)+" | "+v.str+`
`+a;for(v=Ti(e.buffer,l[t],r[t],e.position,p),a+=ye.repeat(" ",i.indent)+Fi((e.line+1).toString(),h)+" | "+v.str+`
`,a+=ye.repeat("-",i.indent+h+3+v.pos)+`^
`,c=1;c<=i.linesAfter&&!(t+c>=r.length);c++)v=Ti(e.buffer,l[t+c],r[t+c],e.position-(l[t]-l[t+c]),p),a+=ye.repeat(" ",i.indent)+Fi((e.line+c+1).toString(),h)+" | "+v.str+`
`;return a.replace(/\n$/,"")}var it=et,nt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],rt=["scalar","sequence","mapping"];function lt(e){var i={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(l){i[String(l)]=n})}),i}function tt(e,i){if(i=i||{},Object.keys(i).forEach(function(n){if(nt.indexOf(n)===-1)throw new Te('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=i,this.tag=e,this.kind=i.kind||null,this.resolve=i.resolve||function(){return!0},this.construct=i.construct||function(n){return n},this.instanceOf=i.instanceOf||null,this.predicate=i.predicate||null,this.represent=i.represent||null,this.representName=i.representName||null,this.defaultStyle=i.defaultStyle||null,this.multi=i.multi||!1,this.styleAliases=lt(i.styleAliases||null),rt.indexOf(this.kind)===-1)throw new Te('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Ce=tt;function en(e,i){var n=[];return e[i].forEach(function(l){var r=n.length;n.forEach(function(s,t){s.tag===l.tag&&s.kind===l.kind&&s.multi===l.multi&&(r=t)}),n[r]=l}),n}function at(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},i,n;function l(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(i=0,n=arguments.length;i<n;i+=1)arguments[i].forEach(l);return e}function $i(e){return this.extend(e)}$i.prototype.extend=function(i){var n=[],l=[];if(i instanceof Ce)l.push(i);else if(Array.isArray(i))l=l.concat(i);else if(i&&(Array.isArray(i.implicit)||Array.isArray(i.explicit)))i.implicit&&(n=n.concat(i.implicit)),i.explicit&&(l=l.concat(i.explicit));else throw new Te("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Ce))throw new Te("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Te("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Te("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),l.forEach(function(s){if(!(s instanceof Ce))throw new Te("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create($i.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(l),r.compiledImplicit=en(r,"implicit"),r.compiledExplicit=en(r,"explicit"),r.compiledTypeMap=at(r.compiledImplicit,r.compiledExplicit),r};var Cn=$i,En=new Ce("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Sn=new Ce("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Tn=new Ce("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Fn=new Cn({explicit:[En,Sn,Tn]});function ot(e){if(e===null)return!0;var i=e.length;return i===1&&e==="~"||i===4&&(e==="null"||e==="Null"||e==="NULL")}function st(){return null}function ct(e){return e===null}var On=new Ce("tag:yaml.org,2002:null",{kind:"scalar",resolve:ot,construct:st,predicate:ct,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function ut(e){if(e===null)return!1;var i=e.length;return i===4&&(e==="true"||e==="True"||e==="TRUE")||i===5&&(e==="false"||e==="False"||e==="FALSE")}function dt(e){return e==="true"||e==="True"||e==="TRUE"}function vt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var In=new Ce("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ut,construct:dt,predicate:vt,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function ft(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function pt(e){return 48<=e&&e<=55}function ht(e){return 48<=e&&e<=57}function mt(e){if(e===null)return!1;var i=e.length,n=0,l=!1,r;if(!i)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===i)return!0;if(r=e[++n],r==="b"){for(n++;n<i;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;l=!0}return l&&r!=="_"}if(r==="x"){for(n++;n<i;n++)if(r=e[n],r!=="_"){if(!ft(e.charCodeAt(n)))return!1;l=!0}return l&&r!=="_"}if(r==="o"){for(n++;n<i;n++)if(r=e[n],r!=="_"){if(!pt(e.charCodeAt(n)))return!1;l=!0}return l&&r!=="_"}}if(r==="_")return!1;for(;n<i;n++)if(r=e[n],r!=="_"){if(!ht(e.charCodeAt(n)))return!1;l=!0}return!(!l||r==="_")}function gt(e){var i=e,n=1,l;if(i.indexOf("_")!==-1&&(i=i.replace(/_/g,"")),l=i[0],(l==="-"||l==="+")&&(l==="-"&&(n=-1),i=i.slice(1),l=i[0]),i==="0")return 0;if(l==="0"){if(i[1]==="b")return n*parseInt(i.slice(2),2);if(i[1]==="x")return n*parseInt(i.slice(2),16);if(i[1]==="o")return n*parseInt(i.slice(2),8)}return n*parseInt(i,10)}function bt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ye.isNegativeZero(e)}var Ln=new Ce("tag:yaml.org,2002:int",{kind:"scalar",resolve:mt,construct:gt,predicate:bt,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_t=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function wt(e){return!(e===null||!_t.test(e)||e[e.length-1]==="_")}function xt(e){var i,n;return i=e.replace(/_/g,"").toLowerCase(),n=i[0]==="-"?-1:1,"+-".indexOf(i[0])>=0&&(i=i.slice(1)),i===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:i===".nan"?NaN:n*parseFloat(i,10)}var yt=/^[-+]?[0-9]+e/;function kt(e,i){var n;if(isNaN(e))switch(i){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(i){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(i){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ye.isNegativeZero(e))return"-0.0";return n=e.toString(10),yt.test(n)?n.replace("e",".e"):n}function At(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ye.isNegativeZero(e))}var Mn=new Ce("tag:yaml.org,2002:float",{kind:"scalar",resolve:wt,construct:xt,predicate:At,represent:kt,defaultStyle:"lowercase"}),$n=Fn.extend({implicit:[On,In,Ln,Mn]}),Nn=$n,Dn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Rn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ct(e){return e===null?!1:Dn.exec(e)!==null||Rn.exec(e)!==null}function Et(e){var i,n,l,r,s,t,a,c=0,v=null,h,p,b;if(i=Dn.exec(e),i===null&&(i=Rn.exec(e)),i===null)throw new Error("Date resolve error");if(n=+i[1],l=+i[2]-1,r=+i[3],!i[4])return new Date(Date.UTC(n,l,r));if(s=+i[4],t=+i[5],a=+i[6],i[7]){for(c=i[7].slice(0,3);c.length<3;)c+="0";c=+c}return i[9]&&(h=+i[10],p=+(i[11]||0),v=(h*60+p)*6e4,i[9]==="-"&&(v=-v)),b=new Date(Date.UTC(n,l,r,s,t,a,c)),v&&b.setTime(b.getTime()-v),b}function St(e){return e.toISOString()}var Bn=new Ce("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ct,construct:Et,instanceOf:Date,represent:St});function Tt(e){return e==="<<"||e===null}var Hn=new Ce("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Tt}),Yi=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Ft(e){if(e===null)return!1;var i,n,l=0,r=e.length,s=Yi;for(n=0;n<r;n++)if(i=s.indexOf(e.charAt(n)),!(i>64)){if(i<0)return!1;l+=6}return l%8===0}function Ot(e){var i,n,l=e.replace(/[\r\n=]/g,""),r=l.length,s=Yi,t=0,a=[];for(i=0;i<r;i++)i%4===0&&i&&(a.push(t>>16&255),a.push(t>>8&255),a.push(t&255)),t=t<<6|s.indexOf(l.charAt(i));return n=r%4*6,n===0?(a.push(t>>16&255),a.push(t>>8&255),a.push(t&255)):n===18?(a.push(t>>10&255),a.push(t>>2&255)):n===12&&a.push(t>>4&255),new Uint8Array(a)}function It(e){var i="",n=0,l,r,s=e.length,t=Yi;for(l=0;l<s;l++)l%3===0&&l&&(i+=t[n>>18&63],i+=t[n>>12&63],i+=t[n>>6&63],i+=t[n&63]),n=(n<<8)+e[l];return r=s%3,r===0?(i+=t[n>>18&63],i+=t[n>>12&63],i+=t[n>>6&63],i+=t[n&63]):r===2?(i+=t[n>>10&63],i+=t[n>>4&63],i+=t[n<<2&63],i+=t[64]):r===1&&(i+=t[n>>2&63],i+=t[n<<4&63],i+=t[64],i+=t[64]),i}function Lt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Yn=new Ce("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Ft,construct:Ot,predicate:Lt,represent:It}),Mt=Object.prototype.hasOwnProperty,$t=Object.prototype.toString;function Nt(e){if(e===null)return!0;var i=[],n,l,r,s,t,a=e;for(n=0,l=a.length;n<l;n+=1){if(r=a[n],t=!1,$t.call(r)!=="[object Object]")return!1;for(s in r)if(Mt.call(r,s))if(!t)t=!0;else return!1;if(!t)return!1;if(i.indexOf(s)===-1)i.push(s);else return!1}return!0}function Dt(e){return e!==null?e:[]}var zn=new Ce("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Nt,construct:Dt}),Rt=Object.prototype.toString;function Bt(e){if(e===null)return!0;var i,n,l,r,s,t=e;for(s=new Array(t.length),i=0,n=t.length;i<n;i+=1){if(l=t[i],Rt.call(l)!=="[object Object]"||(r=Object.keys(l),r.length!==1))return!1;s[i]=[r[0],l[r[0]]]}return!0}function Ht(e){if(e===null)return[];var i,n,l,r,s,t=e;for(s=new Array(t.length),i=0,n=t.length;i<n;i+=1)l=t[i],r=Object.keys(l),s[i]=[r[0],l[r[0]]];return s}var Pn=new Ce("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Bt,construct:Ht}),Yt=Object.prototype.hasOwnProperty;function zt(e){if(e===null)return!0;var i,n=e;for(i in n)if(Yt.call(n,i)&&n[i]!==null)return!1;return!0}function Pt(e){return e!==null?e:{}}var jn=new Ce("tag:yaml.org,2002:set",{kind:"mapping",resolve:zt,construct:Pt}),zi=Nn.extend({implicit:[Bn,Hn],explicit:[Yn,zn,Pn,jn]}),Ve=Object.prototype.hasOwnProperty,hi=1,qn=2,Un=3,mi=4,Oi=1,jt=2,nn=3,qt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ut=/[\x85\u2028\u2029]/,Wt=/[,\[\]\{\}]/,Wn=/^(?:!|!!|![a-z\-]+!)$/i,Kn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function rn(e){return Object.prototype.toString.call(e)}function Re(e){return e===10||e===13}function Ge(e){return e===9||e===32}function Ie(e){return e===9||e===32||e===10||e===13}function ii(e){return e===44||e===91||e===93||e===123||e===125}function Kt(e){var i;return 48<=e&&e<=57?e-48:(i=e|32,97<=i&&i<=102?i-97+10:-1)}function Vt(e){return e===120?2:e===117?4:e===85?8:0}function Gt(e){return 48<=e&&e<=57?e-48:-1}function ln(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"¬Ö":e===95?"¬†":e===76?"\u2028":e===80?"\u2029":""}function Zt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Vn(e,i,n){i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[i]=n}var Gn=new Array(256),Zn=new Array(256);for(var Xe=0;Xe<256;Xe++)Gn[Xe]=ln(Xe)?1:0,Zn[Xe]=ln(Xe);function Qt(e,i){this.input=e,this.filename=i.filename||null,this.schema=i.schema||zi,this.onWarning=i.onWarning||null,this.legacy=i.legacy||!1,this.json=i.json||!1,this.listener=i.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Qn(e,i){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=it(n),new Te(i,n)}function O(e,i){throw Qn(e,i)}function gi(e,i){e.onWarning&&e.onWarning.call(null,Qn(e,i))}var tn={YAML:function(i,n,l){var r,s,t;i.version!==null&&O(i,"duplication of %YAML directive"),l.length!==1&&O(i,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(l[0]),r===null&&O(i,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),t=parseInt(r[2],10),s!==1&&O(i,"unacceptable YAML version of the document"),i.version=l[0],i.checkLineBreaks=t<2,t!==1&&t!==2&&gi(i,"unsupported YAML version of the document")},TAG:function(i,n,l){var r,s;l.length!==2&&O(i,"TAG directive accepts exactly two arguments"),r=l[0],s=l[1],Wn.test(r)||O(i,"ill-formed tag handle (first argument) of the TAG directive"),Ve.call(i.tagMap,r)&&O(i,'there is a previously declared suffix for "'+r+'" tag handle'),Kn.test(s)||O(i,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{O(i,"tag prefix is malformed: "+s)}i.tagMap[r]=s}};function Ke(e,i,n,l){var r,s,t,a;if(i<n){if(a=e.input.slice(i,n),l)for(r=0,s=a.length;r<s;r+=1)t=a.charCodeAt(r),t===9||32<=t&&t<=1114111||O(e,"expected valid JSON character");else qt.test(a)&&O(e,"the stream contains non-printable characters");e.result+=a}}function an(e,i,n,l){var r,s,t,a;for(ye.isObject(n)||O(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),t=0,a=r.length;t<a;t+=1)s=r[t],Ve.call(i,s)||(Vn(i,s,n[s]),l[s]=!0)}function ni(e,i,n,l,r,s,t,a,c){var v,h;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),v=0,h=r.length;v<h;v+=1)Array.isArray(r[v])&&O(e,"nested arrays are not supported inside keys"),typeof r=="object"&&rn(r[v])==="[object Object]"&&(r[v]="[object Object]");if(typeof r=="object"&&rn(r)==="[object Object]"&&(r="[object Object]"),r=String(r),i===null&&(i={}),l==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(v=0,h=s.length;v<h;v+=1)an(e,i,s[v],n);else an(e,i,s,n);else!e.json&&!Ve.call(n,r)&&Ve.call(i,r)&&(e.line=t||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,O(e,"duplicated mapping key")),Vn(i,r,s),delete n[r];return i}function Pi(e){var i;i=e.input.charCodeAt(e.position),i===10?e.position++:i===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):O(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function xe(e,i,n){for(var l=0,r=e.input.charCodeAt(e.position);r!==0;){for(;Ge(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(i&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(Re(r))for(Pi(e),r=e.input.charCodeAt(e.position),l++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&l!==0&&e.lineIndent<n&&gi(e,"deficient indentation"),l}function xi(e){var i=e.position,n;return n=e.input.charCodeAt(i),!!((n===45||n===46)&&n===e.input.charCodeAt(i+1)&&n===e.input.charCodeAt(i+2)&&(i+=3,n=e.input.charCodeAt(i),n===0||Ie(n)))}function ji(e,i){i===1?e.result+=" ":i>1&&(e.result+=ye.repeat(`
`,i-1))}function Xt(e,i,n){var l,r,s,t,a,c,v,h,p=e.kind,b=e.result,_;if(_=e.input.charCodeAt(e.position),Ie(_)||ii(_)||_===35||_===38||_===42||_===33||_===124||_===62||_===39||_===34||_===37||_===64||_===96||(_===63||_===45)&&(r=e.input.charCodeAt(e.position+1),Ie(r)||n&&ii(r)))return!1;for(e.kind="scalar",e.result="",s=t=e.position,a=!1;_!==0;){if(_===58){if(r=e.input.charCodeAt(e.position+1),Ie(r)||n&&ii(r))break}else if(_===35){if(l=e.input.charCodeAt(e.position-1),Ie(l))break}else{if(e.position===e.lineStart&&xi(e)||n&&ii(_))break;if(Re(_))if(c=e.line,v=e.lineStart,h=e.lineIndent,xe(e,!1,-1),e.lineIndent>=i){a=!0,_=e.input.charCodeAt(e.position);continue}else{e.position=t,e.line=c,e.lineStart=v,e.lineIndent=h;break}}a&&(Ke(e,s,t,!1),ji(e,e.line-c),s=t=e.position,a=!1),Ge(_)||(t=e.position+1),_=e.input.charCodeAt(++e.position)}return Ke(e,s,t,!1),e.result?!0:(e.kind=p,e.result=b,!1)}function Jt(e,i){var n,l,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,l=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Ke(e,l,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)l=e.position,e.position++,r=e.position;else return!0;else Re(n)?(Ke(e,l,r,!0),ji(e,xe(e,!1,i)),l=r=e.position):e.position===e.lineStart&&xi(e)?O(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);O(e,"unexpected end of the stream within a single quoted scalar")}function ea(e,i){var n,l,r,s,t,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=l=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Ke(e,n,e.position,!0),e.position++,!0;if(a===92){if(Ke(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),Re(a))xe(e,!1,i);else if(a<256&&Gn[a])e.result+=Zn[a],e.position++;else if((t=Vt(a))>0){for(r=t,s=0;r>0;r--)a=e.input.charCodeAt(++e.position),(t=Kt(a))>=0?s=(s<<4)+t:O(e,"expected hexadecimal character");e.result+=Zt(s),e.position++}else O(e,"unknown escape sequence");n=l=e.position}else Re(a)?(Ke(e,n,l,!0),ji(e,xe(e,!1,i)),n=l=e.position):e.position===e.lineStart&&xi(e)?O(e,"unexpected end of the document within a double quoted scalar"):(e.position++,l=e.position)}O(e,"unexpected end of the stream within a double quoted scalar")}function ia(e,i){var n=!0,l,r,s,t=e.tag,a,c=e.anchor,v,h,p,b,_,S=Object.create(null),I,R,B,m;if(m=e.input.charCodeAt(e.position),m===91)h=93,_=!1,a=[];else if(m===123)h=125,_=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),m=e.input.charCodeAt(++e.position);m!==0;){if(xe(e,!0,i),m=e.input.charCodeAt(e.position),m===h)return e.position++,e.tag=t,e.anchor=c,e.kind=_?"mapping":"sequence",e.result=a,!0;n?m===44&&O(e,"expected the node content, but found ','"):O(e,"missed comma between flow collection entries"),R=I=B=null,p=b=!1,m===63&&(v=e.input.charCodeAt(e.position+1),Ie(v)&&(p=b=!0,e.position++,xe(e,!0,i))),l=e.line,r=e.lineStart,s=e.position,li(e,i,hi,!1,!0),R=e.tag,I=e.result,xe(e,!0,i),m=e.input.charCodeAt(e.position),(b||e.line===l)&&m===58&&(p=!0,m=e.input.charCodeAt(++e.position),xe(e,!0,i),li(e,i,hi,!1,!0),B=e.result),_?ni(e,a,S,R,I,B,l,r,s):p?a.push(ni(e,null,S,R,I,B,l,r,s)):a.push(I),xe(e,!0,i),m=e.input.charCodeAt(e.position),m===44?(n=!0,m=e.input.charCodeAt(++e.position)):n=!1}O(e,"unexpected end of the stream within a flow collection")}function na(e,i){var n,l,r=Oi,s=!1,t=!1,a=i,c=0,v=!1,h,p;if(p=e.input.charCodeAt(e.position),p===124)l=!1;else if(p===62)l=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)Oi===r?r=p===43?nn:jt:O(e,"repeat of a chomping mode identifier");else if((h=Gt(p))>=0)h===0?O(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):t?O(e,"repeat of an indentation width identifier"):(a=i+h-1,t=!0);else break;if(Ge(p)){do p=e.input.charCodeAt(++e.position);while(Ge(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!Re(p)&&p!==0)}for(;p!==0;){for(Pi(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!t||e.lineIndent<a)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!t&&e.lineIndent>a&&(a=e.lineIndent),Re(p)){c++;continue}if(e.lineIndent<a){r===nn?e.result+=ye.repeat(`
`,s?1+c:c):r===Oi&&s&&(e.result+=`
`);break}for(l?Ge(p)?(v=!0,e.result+=ye.repeat(`
`,s?1+c:c)):v?(v=!1,e.result+=ye.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=ye.repeat(`
`,c):e.result+=ye.repeat(`
`,s?1+c:c),s=!0,t=!0,c=0,n=e.position;!Re(p)&&p!==0;)p=e.input.charCodeAt(++e.position);Ke(e,n,e.position,!1)}return!0}function on(e,i){var n,l=e.tag,r=e.anchor,s=[],t,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,O(e,"tab characters must not be used in indentation")),!(c!==45||(t=e.input.charCodeAt(e.position+1),!Ie(t))));){if(a=!0,e.position++,xe(e,!0,-1)&&e.lineIndent<=i){s.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,li(e,i,Un,!1,!0),s.push(e.result),xe(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>i)&&c!==0)O(e,"bad indentation of a sequence entry");else if(e.lineIndent<i)break}return a?(e.tag=l,e.anchor=r,e.kind="sequence",e.result=s,!0):!1}function ra(e,i,n){var l,r,s,t,a,c,v=e.tag,h=e.anchor,p={},b=Object.create(null),_=null,S=null,I=null,R=!1,B=!1,m;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),m=e.input.charCodeAt(e.position);m!==0;){if(!R&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,O(e,"tab characters must not be used in indentation")),l=e.input.charCodeAt(e.position+1),s=e.line,(m===63||m===58)&&Ie(l))m===63?(R&&(ni(e,p,b,_,S,null,t,a,c),_=S=I=null),B=!0,R=!0,r=!0):R?(R=!1,r=!0):O(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,m=l;else{if(t=e.line,a=e.lineStart,c=e.position,!li(e,n,qn,!1,!0))break;if(e.line===s){for(m=e.input.charCodeAt(e.position);Ge(m);)m=e.input.charCodeAt(++e.position);if(m===58)m=e.input.charCodeAt(++e.position),Ie(m)||O(e,"a whitespace character is expected after the key-value separator within a block mapping"),R&&(ni(e,p,b,_,S,null,t,a,c),_=S=I=null),B=!0,R=!1,r=!1,_=e.tag,S=e.result;else if(B)O(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=v,e.anchor=h,!0}else if(B)O(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=v,e.anchor=h,!0}if((e.line===s||e.lineIndent>i)&&(R&&(t=e.line,a=e.lineStart,c=e.position),li(e,i,mi,!0,r)&&(R?S=e.result:I=e.result),R||(ni(e,p,b,_,S,I,t,a,c),_=S=I=null),xe(e,!0,-1),m=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>i)&&m!==0)O(e,"bad indentation of a mapping entry");else if(e.lineIndent<i)break}return R&&ni(e,p,b,_,S,null,t,a,c),B&&(e.tag=v,e.anchor=h,e.kind="mapping",e.result=p),B}function la(e){var i,n=!1,l=!1,r,s,t;if(t=e.input.charCodeAt(e.position),t!==33)return!1;if(e.tag!==null&&O(e,"duplication of a tag property"),t=e.input.charCodeAt(++e.position),t===60?(n=!0,t=e.input.charCodeAt(++e.position)):t===33?(l=!0,r="!!",t=e.input.charCodeAt(++e.position)):r="!",i=e.position,n){do t=e.input.charCodeAt(++e.position);while(t!==0&&t!==62);e.position<e.length?(s=e.input.slice(i,e.position),t=e.input.charCodeAt(++e.position)):O(e,"unexpected end of the stream within a verbatim tag")}else{for(;t!==0&&!Ie(t);)t===33&&(l?O(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(i-1,e.position+1),Wn.test(r)||O(e,"named tag handle cannot contain such characters"),l=!0,i=e.position+1)),t=e.input.charCodeAt(++e.position);s=e.input.slice(i,e.position),Wt.test(s)&&O(e,"tag suffix cannot contain flow indicator characters")}s&&!Kn.test(s)&&O(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{O(e,"tag name is malformed: "+s)}return n?e.tag=s:Ve.call(e.tagMap,r)?e.tag=e.tagMap[r]+s:r==="!"?e.tag="!"+s:r==="!!"?e.tag="tag:yaml.org,2002:"+s:O(e,'undeclared tag handle "'+r+'"'),!0}function ta(e){var i,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&O(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),i=e.position;n!==0&&!Ie(n)&&!ii(n);)n=e.input.charCodeAt(++e.position);return e.position===i&&O(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(i,e.position),!0}function aa(e){var i,n,l;if(l=e.input.charCodeAt(e.position),l!==42)return!1;for(l=e.input.charCodeAt(++e.position),i=e.position;l!==0&&!Ie(l)&&!ii(l);)l=e.input.charCodeAt(++e.position);return e.position===i&&O(e,"name of an alias node must contain at least one character"),n=e.input.slice(i,e.position),Ve.call(e.anchorMap,n)||O(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],xe(e,!0,-1),!0}function li(e,i,n,l,r){var s,t,a,c=1,v=!1,h=!1,p,b,_,S,I,R;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=t=a=mi===n||Un===n,l&&xe(e,!0,-1)&&(v=!0,e.lineIndent>i?c=1:e.lineIndent===i?c=0:e.lineIndent<i&&(c=-1)),c===1)for(;la(e)||ta(e);)xe(e,!0,-1)?(v=!0,a=s,e.lineIndent>i?c=1:e.lineIndent===i?c=0:e.lineIndent<i&&(c=-1)):a=!1;if(a&&(a=v||r),(c===1||mi===n)&&(hi===n||qn===n?I=i:I=i+1,R=e.position-e.lineStart,c===1?a&&(on(e,R)||ra(e,R,I))||ia(e,I)?h=!0:(t&&na(e,I)||Jt(e,I)||ea(e,I)?h=!0:aa(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&O(e,"alias node should not have any properties")):Xt(e,I,hi===n)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(h=a&&on(e,R))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&O(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,b=e.implicitTypes.length;p<b;p+=1)if(S=e.implicitTypes[p],S.resolve(e.result)){e.result=S.construct(e.result),e.tag=S.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Ve.call(e.typeMap[e.kind||"fallback"],e.tag))S=e.typeMap[e.kind||"fallback"][e.tag];else for(S=null,_=e.typeMap.multi[e.kind||"fallback"],p=0,b=_.length;p<b;p+=1)if(e.tag.slice(0,_[p].tag.length)===_[p].tag){S=_[p];break}S||O(e,"unknown tag !<"+e.tag+">"),e.result!==null&&S.kind!==e.kind&&O(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+S.kind+'", not "'+e.kind+'"'),S.resolve(e.result,e.tag)?(e.result=S.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):O(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function oa(e){var i=e.position,n,l,r,s=!1,t;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(t=e.input.charCodeAt(e.position))!==0&&(xe(e,!0,-1),t=e.input.charCodeAt(e.position),!(e.lineIndent>0||t!==37));){for(s=!0,t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!Ie(t);)t=e.input.charCodeAt(++e.position);for(l=e.input.slice(n,e.position),r=[],l.length<1&&O(e,"directive name must not be less than one character in length");t!==0;){for(;Ge(t);)t=e.input.charCodeAt(++e.position);if(t===35){do t=e.input.charCodeAt(++e.position);while(t!==0&&!Re(t));break}if(Re(t))break;for(n=e.position;t!==0&&!Ie(t);)t=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}t!==0&&Pi(e),Ve.call(tn,l)?tn[l](e,l,r):gi(e,'unknown document directive "'+l+'"')}if(xe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,xe(e,!0,-1)):s&&O(e,"directives end mark is expected"),li(e,e.lineIndent-1,mi,!1,!0),xe(e,!0,-1),e.checkLineBreaks&&Ut.test(e.input.slice(i,e.position))&&gi(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&xi(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,xe(e,!0,-1));return}if(e.position<e.length-1)O(e,"end of the stream or a document separator is expected");else return}function Xn(e,i){e=String(e),i=i||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Qt(e,i),l=e.indexOf("\0");for(l!==-1&&(n.position=l,O(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)oa(n);return n.documents}function sa(e,i,n){i!==null&&typeof i=="object"&&typeof n>"u"&&(n=i,i=null);var l=Xn(e,n);if(typeof i!="function")return l;for(var r=0,s=l.length;r<s;r+=1)i(l[r])}function ca(e,i){var n=Xn(e,i);if(n.length!==0){if(n.length===1)return n[0];throw new Te("expected a single document in the stream, but found more")}}var ua=sa,da=ca,Jn={loadAll:ua,load:da},er=Object.prototype.toString,ir=Object.prototype.hasOwnProperty,qi=65279,va=9,ci=10,fa=13,pa=32,ha=33,ma=34,Ni=35,ga=37,ba=38,_a=39,wa=42,nr=44,xa=45,bi=58,ya=61,ka=62,Aa=63,Ca=64,rr=91,lr=93,Ea=96,tr=123,Sa=124,ar=125,Se={};Se[0]="\\0";Se[7]="\\a";Se[8]="\\b";Se[9]="\\t";Se[10]="\\n";Se[11]="\\v";Se[12]="\\f";Se[13]="\\r";Se[27]="\\e";Se[34]='\\"';Se[92]="\\\\";Se[133]="\\N";Se[160]="\\_";Se[8232]="\\L";Se[8233]="\\P";var Ta=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Fa=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Oa(e,i){var n,l,r,s,t,a,c;if(i===null)return{};for(n={},l=Object.keys(i),r=0,s=l.length;r<s;r+=1)t=l[r],a=String(i[t]),t.slice(0,2)==="!!"&&(t="tag:yaml.org,2002:"+t.slice(2)),c=e.compiledTypeMap.fallback[t],c&&ir.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[t]=a;return n}function Ia(e){var i,n,l;if(i=e.toString(16).toUpperCase(),e<=255)n="x",l=2;else if(e<=65535)n="u",l=4;else if(e<=4294967295)n="U",l=8;else throw new Te("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ye.repeat("0",l-i.length)+i}var La=1,ui=2;function Ma(e){this.schema=e.schema||zi,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ye.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Oa(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ui:La,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function sn(e,i){for(var n=ye.repeat(" ",i),l=0,r=-1,s="",t,a=e.length;l<a;)r=e.indexOf(`
`,l),r===-1?(t=e.slice(l),l=a):(t=e.slice(l,r+1),l=r+1),t.length&&t!==`
`&&(s+=n),s+=t;return s}function Di(e,i){return`
`+ye.repeat(" ",e.indent*i)}function $a(e,i){var n,l,r;for(n=0,l=e.implicitTypes.length;n<l;n+=1)if(r=e.implicitTypes[n],r.resolve(i))return!0;return!1}function _i(e){return e===pa||e===va}function di(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==qi||65536<=e&&e<=1114111}function cn(e){return di(e)&&e!==qi&&e!==fa&&e!==ci}function un(e,i,n){var l=cn(e),r=l&&!_i(e);return(n?l:l&&e!==nr&&e!==rr&&e!==lr&&e!==tr&&e!==ar)&&e!==Ni&&!(i===bi&&!r)||cn(i)&&!_i(i)&&e===Ni||i===bi&&r}function Na(e){return di(e)&&e!==qi&&!_i(e)&&e!==xa&&e!==Aa&&e!==bi&&e!==nr&&e!==rr&&e!==lr&&e!==tr&&e!==ar&&e!==Ni&&e!==ba&&e!==wa&&e!==ha&&e!==Sa&&e!==ya&&e!==ka&&e!==_a&&e!==ma&&e!==ga&&e!==Ca&&e!==Ea}function Da(e){return!_i(e)&&e!==bi}function ai(e,i){var n=e.charCodeAt(i),l;return n>=55296&&n<=56319&&i+1<e.length&&(l=e.charCodeAt(i+1),l>=56320&&l<=57343)?(n-55296)*1024+l-56320+65536:n}function or(e){var i=/^\n* /;return i.test(e)}var sr=1,Ri=2,cr=3,ur=4,Je=5;function Ra(e,i,n,l,r,s,t,a){var c,v=0,h=null,p=!1,b=!1,_=l!==-1,S=-1,I=Na(ai(e,0))&&Da(ai(e,e.length-1));if(i||t)for(c=0;c<e.length;v>=65536?c+=2:c++){if(v=ai(e,c),!di(v))return Je;I=I&&un(v,h,a),h=v}else{for(c=0;c<e.length;v>=65536?c+=2:c++){if(v=ai(e,c),v===ci)p=!0,_&&(b=b||c-S-1>l&&e[S+1]!==" ",S=c);else if(!di(v))return Je;I=I&&un(v,h,a),h=v}b=b||_&&c-S-1>l&&e[S+1]!==" "}return!p&&!b?I&&!t&&!r(e)?sr:s===ui?Je:Ri:n>9&&or(e)?Je:t?s===ui?Je:Ri:b?ur:cr}function Ba(e,i,n,l,r){e.dump=(function(){if(i.length===0)return e.quotingType===ui?'""':"''";if(!e.noCompatMode&&(Ta.indexOf(i)!==-1||Fa.test(i)))return e.quotingType===ui?'"'+i+'"':"'"+i+"'";var s=e.indent*Math.max(1,n),t=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=l||e.flowLevel>-1&&n>=e.flowLevel;function c(v){return $a(e,v)}switch(Ra(i,a,e.indent,t,c,e.quotingType,e.forceQuotes&&!l,r)){case sr:return i;case Ri:return"'"+i.replace(/'/g,"''")+"'";case cr:return"|"+dn(i,e.indent)+vn(sn(i,s));case ur:return">"+dn(i,e.indent)+vn(sn(Ha(i,t),s));case Je:return'"'+Ya(i)+'"';default:throw new Te("impossible error: invalid scalar style")}})()}function dn(e,i){var n=or(e)?String(i):"",l=e[e.length-1]===`
`,r=l&&(e[e.length-2]===`
`||e===`
`),s=r?"+":l?"":"-";return n+s+`
`}function vn(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Ha(e,i){for(var n=/(\n+)([^\n]*)/g,l=(function(){var v=e.indexOf(`
`);return v=v!==-1?v:e.length,n.lastIndex=v,fn(e.slice(0,v),i)})(),r=e[0]===`
`||e[0]===" ",s,t;t=n.exec(e);){var a=t[1],c=t[2];s=c[0]===" ",l+=a+(!r&&!s&&c!==""?`
`:"")+fn(c,i),r=s}return l}function fn(e,i){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,l,r=0,s,t=0,a=0,c="";l=n.exec(e);)a=l.index,a-r>i&&(s=t>r?t:a,c+=`
`+e.slice(r,s),r=s+1),t=a;return c+=`
`,e.length-r>i&&t>r?c+=e.slice(r,t)+`
`+e.slice(t+1):c+=e.slice(r),c.slice(1)}function Ya(e){for(var i="",n=0,l,r=0;r<e.length;n>=65536?r+=2:r++)n=ai(e,r),l=Se[n],!l&&di(n)?(i+=e[r],n>=65536&&(i+=e[r+1])):i+=l||Ia(n);return i}function za(e,i,n){var l="",r=e.tag,s,t,a;for(s=0,t=n.length;s<t;s+=1)a=n[s],e.replacer&&(a=e.replacer.call(n,String(s),a)),(He(e,i,a,!1,!1)||typeof a>"u"&&He(e,i,null,!1,!1))&&(l!==""&&(l+=","+(e.condenseFlow?"":" ")),l+=e.dump);e.tag=r,e.dump="["+l+"]"}function pn(e,i,n,l){var r="",s=e.tag,t,a,c;for(t=0,a=n.length;t<a;t+=1)c=n[t],e.replacer&&(c=e.replacer.call(n,String(t),c)),(He(e,i+1,c,!0,!0,!1,!0)||typeof c>"u"&&He(e,i+1,null,!0,!0,!1,!0))&&((!l||r!=="")&&(r+=Di(e,i)),e.dump&&ci===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=s,e.dump=r||"[]"}function Pa(e,i,n){var l="",r=e.tag,s=Object.keys(n),t,a,c,v,h;for(t=0,a=s.length;t<a;t+=1)h="",l!==""&&(h+=", "),e.condenseFlow&&(h+='"'),c=s[t],v=n[c],e.replacer&&(v=e.replacer.call(n,c,v)),He(e,i,c,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),He(e,i,v,!1,!1)&&(h+=e.dump,l+=h));e.tag=r,e.dump="{"+l+"}"}function ja(e,i,n,l){var r="",s=e.tag,t=Object.keys(n),a,c,v,h,p,b;if(e.sortKeys===!0)t.sort();else if(typeof e.sortKeys=="function")t.sort(e.sortKeys);else if(e.sortKeys)throw new Te("sortKeys must be a boolean or a function");for(a=0,c=t.length;a<c;a+=1)b="",(!l||r!=="")&&(b+=Di(e,i)),v=t[a],h=n[v],e.replacer&&(h=e.replacer.call(n,v,h)),He(e,i+1,v,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&ci===e.dump.charCodeAt(0)?b+="?":b+="? "),b+=e.dump,p&&(b+=Di(e,i)),He(e,i+1,h,!0,p)&&(e.dump&&ci===e.dump.charCodeAt(0)?b+=":":b+=": ",b+=e.dump,r+=b));e.tag=s,e.dump=r||"{}"}function hn(e,i,n){var l,r,s,t,a,c;for(r=n?e.explicitTypes:e.implicitTypes,s=0,t=r.length;s<t;s+=1)if(a=r[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof i=="object"&&i instanceof a.instanceOf)&&(!a.predicate||a.predicate(i))){if(n?a.multi&&a.representName?e.tag=a.representName(i):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,er.call(a.represent)==="[object Function]")l=a.represent(i,c);else if(ir.call(a.represent,c))l=a.represent[c](i,c);else throw new Te("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=l}return!0}return!1}function He(e,i,n,l,r,s,t){e.tag=null,e.dump=n,hn(e,n,!1)||hn(e,n,!0);var a=er.call(e.dump),c=l,v;l&&(l=e.flowLevel<0||e.flowLevel>i);var h=a==="[object Object]"||a==="[object Array]",p,b;if(h&&(p=e.duplicates.indexOf(n),b=p!==-1),(e.tag!==null&&e.tag!=="?"||b||e.indent!==2&&i>0)&&(r=!1),b&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(h&&b&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),a==="[object Object]")l&&Object.keys(e.dump).length!==0?(ja(e,i,e.dump,r),b&&(e.dump="&ref_"+p+e.dump)):(Pa(e,i,e.dump),b&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object Array]")l&&e.dump.length!==0?(e.noArrayIndent&&!t&&i>0?pn(e,i-1,e.dump,r):pn(e,i,e.dump,r),b&&(e.dump="&ref_"+p+e.dump)):(za(e,i,e.dump),b&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Ba(e,e.dump,i,s,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Te("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(v=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?v="!"+v:v.slice(0,18)==="tag:yaml.org,2002:"?v="!!"+v.slice(18):v="!<"+v+">",e.dump=v+" "+e.dump)}return!0}function qa(e,i){var n=[],l=[],r,s;for(Bi(e,n,l),r=0,s=l.length;r<s;r+=1)i.duplicates.push(n[l[r]]);i.usedDuplicates=new Array(s)}function Bi(e,i,n){var l,r,s;if(e!==null&&typeof e=="object")if(r=i.indexOf(e),r!==-1)n.indexOf(r)===-1&&n.push(r);else if(i.push(e),Array.isArray(e))for(r=0,s=e.length;r<s;r+=1)Bi(e[r],i,n);else for(l=Object.keys(e),r=0,s=l.length;r<s;r+=1)Bi(e[l[r]],i,n)}function Ua(e,i){i=i||{};var n=new Ma(i);n.noRefs||qa(e,n);var l=e;return n.replacer&&(l=n.replacer.call({"":l},"",l)),He(n,0,l,!0,!0)?n.dump+`
`:""}var Wa=Ua,Ka={dump:Wa};function Ui(e,i){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+i+" instead, which is now safe by default.")}}var Va=Ce,Ga=Cn,Za=Fn,Qa=$n,Xa=Nn,Ja=zi,eo=Jn.load,io=Jn.loadAll,no=Ka.dump,ro=Te,lo={binary:Yn,float:Mn,map:Tn,null:On,pairs:Pn,set:jn,timestamp:Bn,bool:In,int:Ln,merge:Hn,omap:zn,seq:Sn,str:En},to=Ui("safeLoad","load"),ao=Ui("safeLoadAll","loadAll"),oo=Ui("safeDump","dump"),Ii={Type:Va,Schema:Ga,FAILSAFE_SCHEMA:Za,JSON_SCHEMA:Qa,CORE_SCHEMA:Xa,DEFAULT_SCHEMA:Ja,load:eo,loadAll:io,dump:no,YAMLException:ro,types:lo,safeLoad:to,safeLoadAll:ao,safeDump:oo},so=ti('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"><path d="M5 13l4 4L19 7"></path></svg>'),co=ti('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>'),uo=L('<div class="error-bar svelte-1w8bcy2"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),vo=L('<div class="dialog-overlay svelte-1w8bcy2"><div class="editor-dialog animate-scale-in svelte-1w8bcy2"><div class="editor-header svelte-1w8bcy2"><div class="editor-title-row svelte-1w8bcy2"><span class="editor-title svelte-1w8bcy2">YAML Config</span> <span class="editor-badge svelte-1w8bcy2"> </span></div> <div class="editor-actions svelte-1w8bcy2"><button class="action-btn svelte-1w8bcy2" title="Copy to clipboard"><!></button> <button class="close-btn svelte-1w8bcy2" aria-label="Close"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div></div> <!> <div class="editor-body svelte-1w8bcy2"><textarea class="yaml-textarea svelte-1w8bcy2" spellcheck="false" autocomplete="off"></textarea></div> <div class="editor-footer svelte-1w8bcy2"><button class="btn-cancel svelte-1w8bcy2">Cancel</button> <button class="btn-save svelte-1w8bcy2">Save Config</button></div></div></div>');function fo(e,i){ze(i,!0);const n=()=>ge(Li,"$showYamlEditor",r),l=()=>ge($e,"$dashboardConfig",r),[r,s]=je();let t=ee(""),a=ee(""),c=ee(!1);vi(()=>{n()&&(g(t,Ii.dump(l(),{indent:2,lineWidth:120,noRefs:!0,sortKeys:!1}),!0),g(a,""),g(c,!1))});function v(){g(a,"");try{const m=Ii.load(o(t));if(!m||typeof m!="object"){g(a,"Invalid config: must be an object");return}if(!Array.isArray(m.views)){g(a,"Invalid config: 'views' must be an array");return}if(!m.settings||typeof m.settings!="object"){g(a,"Invalid config: 'settings' is required");return}m.version||(m.version=1),m.title||(m.title="My Home"),ri(m),p()}catch(m){m instanceof Ii.YAMLException?g(a,`YAML Error: ${m.message}`):g(a,`Error: ${m instanceof Error?m.message:String(m)}`)}}async function h(){try{await navigator.clipboard.writeText(o(t)),g(c,!0),setTimeout(()=>g(c,!1),2e3)}catch{const m=document.createElement("textarea");m.value=o(t),document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m),g(c,!0),setTimeout(()=>g(c,!1),2e3)}}function p(){Li.set(!1),g(a,"")}function b(m){m.target.classList.contains("dialog-overlay")&&p()}function _(m){if(m.key==="Escape"&&p(),m.key==="Tab"){m.preventDefault();const A=m.target,M=A.selectionStart,Y=A.selectionEnd;g(t,o(t).substring(0,M)+"  "+o(t).substring(Y)),requestAnimationFrame(()=>{A.selectionStart=A.selectionEnd=M+2})}}let S=fe(()=>o(t).split(`
`).length);var I=Ze(),R=Me(I);{var B=m=>{var A=vo(),M=d(A),Y=d(M),ie=d(Y),K=f(d(ie),2),X=d(K);u(K),u(ie);var ne=f(ie,2),ae=d(ne),ue=d(ae);{var be=J=>{var te=so();w(J,te)},N=J=>{var te=co();w(J,te)};ce(ue,J=>{o(c)?J(be):J(N,!1)})}u(ae);var E=f(ae,2);u(ne),u(Y);var C=f(Y,2);{var G=J=>{var te=uo(),ke=f(d(te));u(te),V(()=>W(ke,` ${o(a)??""}`)),w(J,te)};ce(C,J=>{o(a)&&J(G)})}var D=f(C,2),q=d(D);Er(q),u(D);var z=f(D,2),de=d(z),oe=f(de,2);u(z),u(M),u(A),V(()=>W(X,`${o(S)??""} lines`)),k("click",A,b),k("click",ae,h),k("click",E,p),k("keydown",q,_),Ne(q,()=>o(t),J=>g(t,J)),k("click",de,p),k("click",oe,v),w(m,A)};ce(R,m=>{n()&&m(B)})}w(e,I),Pe(),s()}Ye(["click","keydown"]);var po=L('<span class="icon-preview svelte-1nwhkdk"><!></span>'),ho=L("<button><!></button>"),mo=L("<button><!></button>"),go=L('<div class="dialog-overlay svelte-1nwhkdk"><div class="dialog animate-scale-in svelte-1nwhkdk"><div class="dialog-header svelte-1nwhkdk"><span class="dialog-title svelte-1nwhkdk">Kachel bearbeiten</span> <button class="close-btn svelte-1nwhkdk" aria-label="Close"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div> <div class="dialog-body svelte-1nwhkdk"><div class="field-group svelte-1nwhkdk"><span class="field-label svelte-1nwhkdk">Entit√§t</span> <span class="entity-id svelte-1nwhkdk"> </span></div> <div class="field-group svelte-1nwhkdk"><label class="field-label svelte-1nwhkdk">Eigener Name</label> <input type="text" class="field-input svelte-1nwhkdk" placeholder="Leer lassen f√ºr Entit√§tsname"/></div> <div class="field-group svelte-1nwhkdk"><label class="field-label svelte-1nwhkdk">Icon</label> <div class="icon-row svelte-1nwhkdk"><input type="text" class="field-input icon-input svelte-1nwhkdk" placeholder="z.B. mdi:lightbulb"/> <!></div> <div class="emoji-grid svelte-1nwhkdk"></div></div> <div class="field-group svelte-1nwhkdk"><label class="field-label svelte-1nwhkdk">Iconfarbe</label> <div class="color-grid svelte-1nwhkdk"></div> <div class="custom-color-row svelte-1nwhkdk"><input type="color" class="color-picker svelte-1nwhkdk"/> <span class="color-value svelte-1nwhkdk"> </span></div></div></div> <div class="dialog-footer svelte-1nwhkdk"><button class="btn-cancel svelte-1nwhkdk">Abbrechen</button> <button class="btn-save svelte-1nwhkdk">Speichern</button></div></div></div>');function bo(e,i){ze(i,!0);const n=()=>ge(Xi,"$editingTileId",r),l=()=>ge($e,"$dashboardConfig",r),[r,s]=je();let t=fe(()=>()=>{if(n())for(const A of l().views){const M=A.tiles.find(Y=>Y.id===n());if(M)return{tile:M,viewId:A.id}}}),a=fe(()=>o(t)()?.tile),c=ee(""),v=ee(""),h=ee("");vi(()=>{n()&&o(a)&&(g(c,o(a).name||"",!0),g(v,o(a).icon||"",!0),g(h,o(a).color||"",!0))});function p(){!n()||!o(a)||($e.update(A=>{for(const M of A.views){const Y=M.tiles.find(ie=>ie.id===n());if(Y){Y.name=o(c)||void 0,Y.icon=o(v)||void 0,Y.color=o(h)||void 0;break}}return ri(A),{...A}}),b())}function b(){Xi.set(null),g(c,""),g(v,""),g(h,"")}function _(A){A.target.classList.contains("dialog-overlay")&&b()}const S=["mdi:lightbulb","mdi:flash","mdi:thermometer","mdi:window-shutter","mdi:lock","mdi:music","mdi:television","mdi:gamepad-variant","mdi:chart-bar","mdi:weather-partly-cloudy","mdi:water","mdi:fire","mdi:snowflake","mdi:shower","mdi:bed","mdi:stove","mdi:sofa","mdi:home","mdi:star","mdi:weather-night","mdi:white-balance-sunny","mdi:bell","mdi:camera","mdi:leaf"],I=["#69b34c","#e8c840","#4aa8d8","#e85050","#ab47bc","#8d6e63","#26c6da","#e84898","#ff9800","#607d8b","#f5f5f5",""];var R=Ze(),B=Me(R);{var m=A=>{var M=go(),Y=d(M),ie=d(Y),K=f(d(ie),2);u(ie);var X=f(ie,2),ne=d(X),ae=f(d(ne),2),ue=d(ae,!0);u(ae),u(ne);var be=f(ne,2),N=f(d(be),2);Le(N),u(be);var E=f(be,2),C=f(d(E),2),G=d(C);Le(G);var D=f(G,2);{var q=F=>{var y=po(),x=d(y);we(x,{get name(){return o(v)},size:24}),u(y),w(F,y)};ce(D,F=>{o(v)&&F(q)})}u(C);var z=f(C,2);Fe(z,21,()=>S,Oe,(F,y)=>{var x=ho();let T;var $=d(x);we($,{get name(){return o(y)},size:18}),u(x),V(()=>T=Ee(x,1,"emoji-btn svelte-1nwhkdk",null,T,{selected:o(v)===o(y)})),k("click",x,()=>g(v,o(y),!0)),w(F,x)}),u(z),u(E);var de=f(E,2),oe=f(d(de),2);Fe(oe,21,()=>I,Oe,(F,y)=>{var x=mo();let T;var $=d(x);{var H=re=>{var le=hr("‚úï");w(re,le)};ce($,re=>{o(y)||re(H)})}u(x),V(()=>{T=Ee(x,1,"color-swatch svelte-1nwhkdk",null,T,{selected:o(h)===o(y),clear:!o(y)}),xn(x,o(y)?`background: ${o(y)}`:""),pi(x,"title",o(y)||"Standard")}),k("click",x,()=>g(h,o(y),!0)),w(F,x)}),u(oe);var J=f(oe,2),te=d(J);Le(te);var ke=f(te,2),se=d(ke,!0);u(ke),u(J),u(de),u(X);var j=f(X,2),U=d(j),pe=f(U,2);u(j),u(Y),u(M),V(()=>{W(ue,o(a).entityId),W(se,o(h)||"Standard")}),k("click",M,_),k("keydown",M,F=>F.key==="Escape"&&b()),k("click",K,b),Ne(N,()=>o(c),F=>g(c,F)),Ne(G,()=>o(v),F=>g(v,F)),Ne(te,()=>o(h),F=>g(h,F)),k("click",U,b),k("click",pe,p),w(A,M)};ce(B,A=>{n()&&o(a)&&A(m)})}w(e,R),Pe(),s()}Ye(["click","keydown"]);var _o=L('<p class="error-msg svelte-12qhfyh"> </p>'),wo=L('<div class="connect-screen svelte-12qhfyh"><div class="connect-card animate-scale-in svelte-12qhfyh"><span class="connect-brand svelte-12qhfyh">LOXHOME</span> <p class="connect-subtitle svelte-12qhfyh">Mit Home Assistant verbinden</p> <div class="connect-form svelte-12qhfyh"><div class="form-group svelte-12qhfyh"><label for="hass-url" class="svelte-12qhfyh">Home Assistant URL</label> <input id="hass-url" type="url" placeholder="http://homeassistant.local:8123"/></div> <div class="form-group svelte-12qhfyh"><label for="hass-token" class="svelte-12qhfyh">Langlebiges Zugriffstoken</label> <input id="hass-token" type="password" placeholder="eyJ0eXAiOiJK..."/> <p class="form-hint svelte-12qhfyh">Profil ‚Üí Langlebige Zugriffstokens</p></div> <!> <button class="connect-btn svelte-12qhfyh"> </button></div></div></div>'),xo=L('<div class="app-layout svelte-12qhfyh"><!> <main class="content svelte-12qhfyh"><!></main> <!></div> <!> <!> <!> <!> <!> <!>',1);function So(e,i){ze(i,!0);const n=()=>ge($e,"$dashboardConfig",r),l=()=>ge(Nr,"$hassConnected",r),[r,s]=je();let t=ee(""),a=ee(""),c=ee(!1),v=ee(!1),h=ee("");wn(async()=>{await Mr();try{await $r(),p();return}catch{}{const B=localStorage.getItem("ha-loxone-credentials");if(B){const{url:m,token:A}=JSON.parse(B);g(t,m,!0),g(a,A,!0);try{await Ji(m,A),p()}catch{g(v,!0)}}else g(v,!0)}});function p(){if(localStorage.getItem("loxhome-onboarding-done"))return;const B=n();!B.views.some(A=>A.tiles.length>0)&&B.views.length<=1&&fi.set(!0)}async function b(){if(o(t)){g(c,!0),g(h,"");try{o(a)?(await Ji(o(t),o(a)),localStorage.setItem("ha-loxone-credentials",JSON.stringify({url:o(t),token:o(a)}))):await Dr(o(t)),g(v,!1),p()}catch{g(h,"Verbindung fehlgeschlagen. URL und Token pr√ºfen.")}finally{g(c,!1)}}}var _=Ze(),S=Me(_);{var I=B=>{var m=wo(),A=d(m),M=f(d(A),4),Y=d(M),ie=f(d(Y),2);Le(ie),u(Y);var K=f(Y,2),X=f(d(K),2);Le(X),Be(2),u(K);var ne=f(K,2);{var ae=N=>{var E=_o(),C=d(E,!0);u(E),V(()=>W(C,o(h))),w(N,E)};ce(ne,N=>{o(h)&&N(ae)})}var ue=f(ne,2),be=d(ue,!0);u(ue),u(M),u(A),u(m),V(()=>{ue.disabled=o(c)||!o(t),W(be,o(c)?"Verbinden...":"Verbinden")}),Ne(ie,()=>o(t),N=>g(t,N)),Ne(X,()=>o(a),N=>g(a,N)),k("click",ue,b),w(B,m)},R=B=>{var m=xo(),A=Me(m),M=d(A);Wr(M,{});var Y=f(M,2),ie=d(Y);Rr(ie,()=>i.children),u(Y);var K=f(Y,2);Gr(K,{}),u(A);var X=f(A,2);tl(X,{});var ne=f(X,2);pl(ne,{});var ae=f(ne,2);wl(ae,{});var ue=f(ae,2);Pl(ue,{});var be=f(ue,2);fo(be,{});var N=f(be,2);bo(N,{}),w(B,m)};ce(S,B=>{o(v)&&!l()?B(I):B(R,!1)})}w(e,_),Pe(),s()}Ye(["click"]);export{So as component,Eo as universal};
